


    




<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "\/"
        },
        "articleSection" : "blog",
        "name" : "Finding Distressed Stocks",
        "headline" : "Finding Distressed Stocks",
        "description" : "Finding Highly Risky Stocks\rThe Formula\rLogit Probability of Financial Distress (LPFD)\rA logistic regression model is used to estimate whether a firm is in financial distress or not. \\[\rLPFD = -20.26 \\times NIMTAAVG \x2b 1.42 \\times TLMTA \\\\\r- 7.13 \\times EXRETAVG \x2b 1.41 \\times SIGMA - 0.045 \\times RSIZE - \\\\\r2.13 \\times CASHMTA \x2b 0.075 \\times MB - 0.058 \\times PRICE - 9.16\r\\]\nThe “LPFD” is then transformed into a probability of financial distress (PFD).",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2020",
        "datePublished": "2020-01-10 00:00:00 \x2b0000 UTC",
        "dateModified" : "2020-01-10 00:00:00 \x2b0000 UTC",
        "url" : "\/blog\/finding-distressed-stocks\/",
        "wordCount" : "236",
        "keywords" : [ "Blog" ]
    }
    </script>
        
            <title>Finding Distressed Stocks - Invest in R</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.62.2" />
        


        
            <meta name="author" content="Aaron Hardy">
        
        
            
                <meta name="description" content="HTML5 UP theme, Future Imperfect with some extra goodies, ported by Julio Pescador. Powered by Hugo">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Finding Distressed Stocks"/>
<meta name="twitter:description" content="Finding Highly Risky StocksThe FormulaLogit Probability of Financial Distress (LPFD)A logistic regression model is used to estimate whether a firm is in financial distress or not. \[LPFD = -20.26 \times NIMTAAVG &#43; 1.42 \times TLMTA \\- 7.13 \times EXRETAVG &#43; 1.41 \times SIGMA - 0.045 \times RSIZE - \\2.13 \times CASHMTA &#43; 0.075 \times MB - 0.058 \times PRICE - 9.16\]
The “LPFD” is then transformed into a probability of financial distress (PFD)."/>
<meta name="twitter:site" content="@example"/>

        <meta property="og:title" content="Finding Distressed Stocks" />
<meta property="og:description" content="Finding Highly Risky StocksThe FormulaLogit Probability of Financial Distress (LPFD)A logistic regression model is used to estimate whether a firm is in financial distress or not. \[LPFD = -20.26 \times NIMTAAVG &#43; 1.42 \times TLMTA \\- 7.13 \times EXRETAVG &#43; 1.41 \times SIGMA - 0.045 \times RSIZE - \\2.13 \times CASHMTA &#43; 0.075 \times MB - 0.058 \times PRICE - 9.16\]
The “LPFD” is then transformed into a probability of financial distress (PFD)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/finding-distressed-stocks/" />
<meta property="article:published_time" content="2020-01-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-10T00:00:00+00:00" />

        <meta property="og:image" content="//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="Finding Distressed Stocks">
<meta itemprop="description" content="Finding Highly Risky StocksThe FormulaLogit Probability of Financial Distress (LPFD)A logistic regression model is used to estimate whether a firm is in financial distress or not. \[LPFD = -20.26 \times NIMTAAVG &#43; 1.42 \times TLMTA \\- 7.13 \times EXRETAVG &#43; 1.41 \times SIGMA - 0.045 \times RSIZE - \\2.13 \times CASHMTA &#43; 0.075 \times MB - 0.058 \times PRICE - 9.16\]
The “LPFD” is then transformed into a probability of financial distress (PFD).">
<meta itemprop="datePublished" content="2020-01-10T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-01-10T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="236">



<meta itemprop="keywords" content="" />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        
            
                
            
        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
    </head>
    <body>

      
      <div id="wrapper">

    
<header id="header">
    
      <h1><a href="/">blog</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/itemized/">
                            <i class="fa fa-list">&nbsp;</i>Itemized
                    </a>
                </li>
            
                <li>
                    <a href="/categories/">
                            <i class="fa fa-sitemap">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/contact/">
                            <i class="fa fa-envelope-o">&nbsp;</i>Contact
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/itemized/">
                            <h3>
                                <i class="fa fa-list">&nbsp;</i>Itemized
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                <i class="fa fa-sitemap">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/contact/">
                            <h3>
                                <i class="fa fa-envelope-o">&nbsp;</i>Contact
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/creating-a-new-theme/">Creating a New Theme</a></h3>
                                
                                <time class="published" datetime=
                                    '2014-09-28'>
                                    September 28, 2014</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/creating-a-new-theme/" class="image featured">
            <img src="/img/2014/09/pic03.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/goisforlovers/">(Hu)go Template Primer</a></h3>
                                
                                <time class="published" datetime=
                                    '2014-04-02'>
                                    April 2, 2014</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/goisforlovers/" class="image featured">
            <img src="/img/2014/04/pic02.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/hugoisforlovers/">Getting Started with Hugo</a></h3>
                                
                                <time class="published" datetime=
                                    '2014-04-02'>
                                    April 2, 2014</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/hugoisforlovers/" class="image featured">
            <img src="/img/2014/04/pic01.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/migrate-from-jekyll/">Migrate to Hugo from Jekyll</a></h3>
                                
                                <time class="published" datetime=
                                    '2014-03-10'>
                                    March 10, 2014</time>
                            </header>
                            

                        </article>
                

                
            </div>
        </section>

    
        
</section>

    
    <div id="main">
        <article class="post">
            
            <header>
    <div class="title">
        
            <h1><a href="/blog/finding-distressed-stocks/">Finding Distressed Stocks</a></h1>
            
        
        
    </div>
</header>

            <div id="content">
                


<div id="finding-highly-risky-stocks" class="section level1">
<h1>Finding Highly Risky Stocks</h1>
<div id="the-formula" class="section level2">
<h2>The Formula</h2>
<div id="logit-probability-of-financial-distress-lpfd" class="section level3">
<h3>Logit Probability of Financial Distress (LPFD)</h3>
<p>A logistic regression model is used to estimate whether a firm is in financial distress or not. <span class="math display">\[
LPFD = -20.26 \times NIMTAAVG + 1.42 \times TLMTA \\
- 7.13 \times EXRETAVG + 1.41 \times SIGMA - 0.045 \times RSIZE - \\
2.13 \times CASHMTA + 0.075 \times MB - 0.058 \times PRICE - 9.16
\]</span></p>
<p>The “LPFD” is then transformed into a probability of financial distress (PFD).</p>
</div>
<div id="probability-of-financial-distress-pfd" class="section level3">
<h3>Probability of Financial Distress (PFD)</h3>
<p><span class="math display">\[ 
PFD=\frac{1}{1+e^{-LPFD}} 
\]</span></p>
</div>
<div id="weighting-the-value" class="section level3">
<h3>Weighting the value</h3>
<p><span class="math display">\[
XAVG = .5333 \times t + .2666 \times (t - 1) + .1333 \times (t - 2) + .0666 \times (t - 3)
\]</span></p>
</div>
<div id="the-data" class="section level3">
<h3>The Data</h3>
</div>
</div>
</div>
<div id="connect-to-a-database-and-load-some-data" class="section level1">
<h1>connect to a database and load some data</h1>
<pre class="r"><code># Clear Workspace
rm(list=ls(all=TRUE))


# Load libraries ----------------------------------------------------------
library(dplyr)
library(RMySQL)
library(lubridate)
library(tidyr)

# Establish a MySQL connection
con &lt;- dbConnect(MySQL(), dbname = &quot;financial_data&quot;, user = &#39;root&#39; , password=&#39;paperback12&#39;)

# dbListTables(con)

# Create a function to pull multiple fields from SQL tables
get_data &lt;- function(conn, field) {
      tbl(conn, field) %&gt;% as_tibble() %&gt;% mutate(date = ymd(date)) 
}

fields &lt;- c(&quot;market_cap&quot;, &quot;enterprise_value&quot;, &quot;total_liabilities&quot;, &quot;cash&quot;)

list_data &lt;- list() # Initialize the container
for(i in seq_along(fields)) {
      table_data &lt;- get_data(con, fields[i])
      list_data &lt;- c(list_data, list(table_data))
}

all_data &lt;- Reduce(function(tb1, tb2) full_join(tb1, tb2, by = c(&quot;id&quot;, &quot;date&quot;)), list_data)
cleaned_data &lt;- all_data %&gt;% na.omit() %&gt;% group_by(id)

# dbListTables(con)


dbDisconnect(con) # Disconnect from SQL database</code></pre>
<pre><code>## [1] TRUE</code></pre>
</div>

            </div>
        </article>
    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/' class="logo"><img src="/img/main/logo.jpg" alt="Hugo Future Imperfect" /></a>
      
    
    
      <header>
        <h2>Invest with R</h2>
        <p>Another fine responsive site template by <a href="http://html5up.net">HTML5 UP</a>. Ported by Julio Pescador with some extra goodies <i class='fa fa-hand-peace-o'></i></p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/jpescador/hugo-future-imperfect" target="_blank" title="GitHub" class="fa fa-github"></a></li>















  <li><a href="//flickr.com/photos/example" target="_blank" title="Flickr" class="fa fa-flickr"></a></li>











  <li><a href="//linkedin.com/in/example" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



  <li><a href="//linkedin.com/company/examplebusiness" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/example" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>





  <li><a href="//reddit.com/user/example" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>

















  <li><a href="//instagram.com/example" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/example" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>







  <li><a href="//pinterest.com/example" target="_blank" title="Pinterest" class="fa fa-pinterest-p"></a></li>



  <li><a href="//telegram.me/example" target="_blank" title="telegram" class="fa fa-telegram"></a></li>









<li><a href="//researchgate.net/profile/example" target="_blank" title="Research Gate"><i class="ai ai-researchgate"></i></a></li>



  <li><a href="mailto:example" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/creating-a-new-theme/">Creating a New Theme</a>
              </h3>
              
              <time class="published" datetime='2014-09-28'>
                September 28, 2014
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog/creating-a-new-theme/" class="image featured">
            <img src="/img//pic03.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/goisforlovers/">(Hu)go Template Primer</a>
              </h3>
              
              <time class="published" datetime='2014-04-02'>
                April 2, 2014
              </time>
            </header>
            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/goisforlovers/" class="image featured">
            <img src="/img/2014/04/pic02.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/hugoisforlovers/">Getting Started with Hugo</a>
              </h3>
              
              <time class="published" datetime='2014-04-02'>
                April 2, 2014
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog/hugoisforlovers/" class="image featured">
            <img src="/img//pic01.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/migrate-from-jekyll/">Migrate to Hugo from Jekyll</a>
              </h3>
              
              <time class="published" datetime='2014-03-10'>
                March 10, 2014
              </time>
            </header>
            

          </article>
        
      </div>

      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                Uncategorized
                <span style="float:right;">4</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/hugo/">hugo</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/go/">go</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/jekyll/">jekyll</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/r/">r</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/stocks/">stocks</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>About</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent tellus lacus, auctor vehicula molestie quis, tempor quis velit. Quisque in quam ac leo efficitur vulputate. Phasellus ullamcorper aliquam sodales. Maecenas sit amet condimentum ipsum. Proin sit amet ligula elit. Mauris.</p>
      <a href="/about/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/jpescador/hugo-future-imperfect" target="_blank" title="GitHub" class="fa fa-github"></a></li>















  <li><a href="//flickr.com/photos/example" target="_blank" title="Flickr" class="fa fa-flickr"></a></li>











  <li><a href="//linkedin.com/in/example" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



  <li><a href="//linkedin.com/company/examplebusiness" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/example" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>





  <li><a href="//reddit.com/user/example" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>

















  <li><a href="//instagram.com/example" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/example" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>







  <li><a href="//pinterest.com/example" target="_blank" title="Pinterest" class="fa fa-pinterest-p"></a></li>



  <li><a href="//telegram.me/example" target="_blank" title="telegram" class="fa fa-telegram"></a></li>









<li><a href="//researchgate.net/profile/example" target="_blank" title="Research Gate"><i class="ai ai-researchgate"></i></a></li>



  <li><a href="mailto:example" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2020
        
          Invest in R
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>


<script src="index.en_files/header-attrs-2.11/header-attrs.js"></script>
<script src="index.en_files/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="index.en_files/echarts4r-4.8.0/echarts-en.min.js"></script>
<script src="index.en_files/echarts4r-4.8.0/ecStat.min.js"></script>
<script src="index.en_files/echarts4r-4.8.0/dataTool.min.js"></script>
<script src="index.en_files/echarts4r-binding-0.4.3/echarts4r.js"></script>
<script src="index.en_files/shine-1.0.0/shine.js"></script>
<script src="index.en_files/plotly-binding-4.10.0/plotly.js"></script>
<script src="index.en_files/typedarray-0.1/typedarray.min.js"></script>
<script src="index.en_files/jquery-3.5.1/jquery.min.js"></script>
<link href="index.en_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="index.en_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="index.en_files/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="index.en_files/plotly-main-2.5.1/plotly-latest.min.js"></script>

<div id="TOC">
<ul>
<li><a href="#data">Data</a></li>
<li><a href="#asset-performance">Asset Performance</a>
<ul>
<li><a href="#return-profiles">Return Profiles</a></li>
<li><a href="#gains-vs.-losses">Gains vs. Losses</a></li>
<li><a href="#correlations">Correlations</a></li>
<li><a href="#weights">Weights</a></li>
<li><a href="#set-benchmark">Set Benchmark</a></li>
<li><a href="#performance-stats">Performance stats</a></li>
</ul></li>
<li><a href="#portfolios-with-highest-returns">Portfolios with Highest Returns</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#limitations">Limitations</a></li>
</ul>
</div>

<p>Building a balanced portfolio is not as easy as it might seem.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(tidyquant, quietly = TRUE)
library(echarts4r)
library(arrow)
library(here)

filter &lt;- dplyr::filter
lag &lt;- dplyr::lag

file_prices &lt;- list.files(here(&quot;static&quot;, &quot;data&quot;),
           pattern = &quot;ETF prices&quot;, full.names = TRUE) %&gt;% max()

prices &lt;- read_csv(file_prices, col_types = cols()) %&gt;% 
      select(ticker, date, adjusted)

file_t_note_rates &lt;- list.files(here(&quot;static&quot;, &quot;data&quot;),
           pattern = &quot;T Note Rates&quot;, full.names = TRUE) %&gt;% max()

t_note_rates &lt;- read_csv(file_t_note_rates, col_types = cols()) %&gt;% 
      select(ticker, date, monthly_rate)</code></pre>
<div id="data" class="section level1">
<h1>Data</h1>
<p>The raw data consists daily prices for seven ETFs:
- AGG: U.S. total bond market
- EEM: Emerging Markets
- EFA: International equities (excluding the U.S. and Canada)
- GSG: Commodities
- IEF: 7-10 Year Treasury
- IYR: U.S. Real Estate
- VTI: All U.S. stocks</p>
<p>The monthly returns are then computed and an index starting at 1 is created
for each ETF for plotting purposes.</p>
<p>Since each ETF has a different inception date and therefore time span, we will
set the time span of the analysis to be that of the span of the ETF with the
most recent inception date.</p>
<pre class="r"><code># Get monthly Treasury note rates
rf_monthly &lt;-
      t_note_rates %&gt;%
      select(-ticker) %&gt;%
      complete(date = seq.Date(
            from = min(ymd(date)),
            to = max(ymd(date)),
            by = &quot;day&quot;
      )) %&gt;%
      arrange(date) %&gt;%
      fill(monthly_rate) %&gt;%
      slice(xts::endpoints(date, on = &quot;months&quot;))

monthly_prices &lt;- 
      prices %&gt;%
      filter(!ticker %in% c(&quot;VWO&quot;, &quot;VNQ&quot;, &quot;^IXIC&quot;)) %&gt;% 
      complete(date = seq.Date(
            from = min(ymd(date)),
            to = max(ymd(date)),
            by = &quot;day&quot;
      )) %&gt;%
      arrange(ticker, date) %&gt;%
      group_by(ticker) %&gt;%
      fill(adjusted) %&gt;% 
      slice(xts::endpoints(date, on = &quot;months&quot;)) %&gt;%
      arrange(date) %&gt;% 
      mutate(ticker = case_when(ticker == &quot;AGG&quot; ~ &quot;us_bonds&quot;,
                                ticker == &quot;EEM&quot; ~ &quot;emerging_markets&quot;,
                                ticker == &quot;EFA&quot; ~ &quot;global_stocks&quot;,
                                ticker == &quot;GSG&quot; ~ &quot;commodities&quot;,
                                ticker == &quot;IEF&quot; ~ &quot;treasury_notes&quot;,
                                ticker == &quot;IYR&quot; ~ &quot;us_real_estate&quot;,
                                ticker == &quot;VTI&quot; ~ &quot;us_stocks&quot;,
                                TRUE ~ NA_character_))

start_date &lt;-
  monthly_prices %&gt;%
  group_by(ticker) %&gt;%
  filter(date == min(date)) %&gt;%
  pull(date) %&gt;%
  max()

end_date &lt;-
  monthly_prices %&gt;%
  group_by(ticker) %&gt;%
  filter(date == max(date)) %&gt;%
  pull(date) %&gt;%
  min() %&gt;%
  round_date(unit = &quot;months&quot;) %&gt;%
  {
    . - days(1)
  } %&gt;%
  as.character()

returns &lt;-
      monthly_prices %&gt;%
      group_by(ticker) %&gt;%
      mutate(return = adjusted / lag(adjusted) - 1) %&gt;%
      filter(date &gt;= start_date, date &lt;= end_date) %&gt;%
      mutate(index = adjusted / adjusted[1]) %&gt;%
      arrange(ticker, date) %&gt;%
      ungroup() %&gt;% 
      drop_na() %&gt;%
      left_join(rf_monthly %&gt;% rename(Rf = monthly_rate), by = &quot;date&quot;)
      
returns</code></pre>
<pre><code>## # A tibble: 1,329 x 6
##    date       ticker      adjusted   return index      Rf
##    &lt;date&gt;     &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
##  1 2006-08-31 commodities     47.1 -0.0713  0.929 0.00395
##  2 2006-09-30 commodities     42.1 -0.107   0.829 0.00387
##  3 2006-10-31 commodities     41   -0.0254  0.808 0.00384
##  4 2006-11-30 commodities     43.0  0.0500  0.848 0.00372
##  5 2006-12-31 commodities     40.1 -0.0692  0.790 0.00392
##  6 2007-01-31 commodities     39.0 -0.0255  0.769 0.00402
##  7 2007-02-28 commodities     40.5  0.0371  0.798 0.0038 
##  8 2007-03-31 commodities     41.5  0.0247  0.818 0.00388
##  9 2007-04-30 commodities     41.7  0.00458 0.821 0.00386
## 10 2007-05-31 commodities     41.2 -0.0118  0.812 0.00408
## # ... with 1,319 more rows</code></pre>
<pre class="r"><code>returns_xts &lt;-
      returns %&gt;% 
      select(date, ticker, return) %&gt;% 
      split(.$ticker) %&gt;% 
      map(~xts(x = .x$return, order.by = .x$date)) %&gt;% 
      reduce(merge) %&gt;% 
      na.omit() %&gt;%
      setNames(returns %&gt;% distinct(ticker) %&gt;% pull())

# Calculate ther period for the returns data
time_period &lt;- (as.Date(max(returns$date)) - as.Date(min(returns$date))) %&gt;% as.numeric()
   
tickers &lt;- returns %&gt;% distinct(ticker) %&gt;% pull()</code></pre>
<p>The data consists of tables with columns for dates, ticker, monthly return, and
index value. The index value starts at 1 for all tickers and grows according to
each asset’s the monthly return.</p>
<p>The data spans 15 years and 9 months.</p>
</div>
<div id="asset-performance" class="section level1">
<h1>Asset Performance</h1>
<p>How did each asset perform individually?</p>
<pre class="r"><code>returns %&gt;%
      group_by(ticker) %&gt;%
      e_chart(x = date) %&gt;%
      e_line(serie = index,
             symbol = &#39;emptyCircle&#39;,
             symbolSize = 1) %&gt;%
      e_tooltip(trigger = &quot;axis&quot;, backgroundColor = &#39;white&#39;) %&gt;%
      e_grid(right = &quot;15%&quot;, top = &quot;20%&quot;) %&gt;%
      e_title(text = &quot;Growth of select ETFs&quot;,
              # subtext = &quot;index value&quot;,
              left = &quot;center&quot;,
              top = &quot;5%&quot;) %&gt;%
      e_legend(orient = &quot;vertical&quot;,
               # type = &quot;scroll&quot;,
               top = &quot;15%&quot;,
               right = &quot;5&quot;,
      ) %&gt;%
      e_datazoom(type = &quot;slider&quot;,
                 start = 0,
                 end = 100) %&gt;%
      e_theme(&quot;shine&quot;) %&gt;%
      e_toolbox_feature(&quot;dataZoom&quot;, selector = list(start = &#39;20&#39;,
                                                    end = &#39;80&#39;)) %&gt;%
      e_toolbox_feature(feature = &quot;reset&quot;) %&gt;%
      e_toolbox_feature(&quot;dataView&quot;) %&gt;%
      e_toolbox_feature(&quot;saveAsImage&quot;) %&gt;%
      e_legend(selector = list(
            list(type = &#39;inverse&#39;, title = &#39;Invert&#39;),
            list(type = &#39;all&#39;, title = &#39;Reset&#39;)
      ))</code></pre>
<div id="htmlwidget-03c1766b7be1b411bd7b" style="width:100%;height:500px;" class="echarts4r html-widget"></div>
<script type="application/json" data-for="htmlwidget-03c1766b7be1b411bd7b">{"x":{"theme":"shine","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"data":["2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2006-07-31"],"type":"time","boundaryGap":true}],"legend":{"data":["commodities","emerging_markets","global_stocks","treasury_notes","us_bonds","us_real_estate","us_stocks"],"show":true,"type":"plain","orient":"vertical","top":"15%","right":"5","show.1":true,"type.1":"plain","selector":[{"type":"inverse","title":"Invert"},{"type":"all","title":"Reset"}]},"series":[{"data":[{"value":["2006-08-31","0.9286700"]},{"value":["2006-09-30","0.8289655"]},{"value":["2006-10-31","0.8078818"]},{"value":["2006-11-30","0.8482758"]},{"value":["2006-12-31","0.7895567"]},{"value":["2007-01-31","0.7694581"]},{"value":["2007-02-28","0.7980296"]},{"value":["2007-03-31","0.8177340"]},{"value":["2007-04-30","0.8214778"]},{"value":["2007-05-31","0.8118227"]},{"value":["2007-06-30","0.8372414"]},{"value":["2007-07-31","0.8772414"]},{"value":["2007-08-31","0.8492610"]},{"value":["2007-09-30","0.9294581"]},{"value":["2007-10-31","0.9852217"]},{"value":["2007-11-30","0.9806897"]},{"value":["2007-12-31","1.0392119"]},{"value":["2008-01-31","1.0344828"]},{"value":["2008-02-29","1.1509360"]},{"value":["2008-03-31","1.1400985"]},{"value":["2008-04-30","1.2334975"]},{"value":["2008-05-31","1.3379311"]},{"value":["2008-06-30","1.4760592"]},{"value":["2008-07-31","1.2794089"]},{"value":["2008-08-31","1.1836453"]},{"value":["2008-09-30","1.0600985"]},{"value":["2008-10-31","0.7456158"]},{"value":["2008-11-30","0.6346798"]},{"value":["2008-12-31","0.5637439"]},{"value":["2009-01-31","0.5054187"]},{"value":["2009-02-28","0.4744828"]},{"value":["2009-03-31","0.4961576"]},{"value":["2009-04-30","0.4884729"]},{"value":["2009-05-31","0.5934976"]},{"value":["2009-06-30","0.5921182"]},{"value":["2009-07-31","0.5964532"]},{"value":["2009-08-31","0.5990148"]},{"value":["2009-09-30","0.5848276"]},{"value":["2009-10-31","0.6130049"]},{"value":["2009-11-30","0.6208867"]},{"value":["2009-12-31","0.6269951"]},{"value":["2010-01-31","0.5761576"]},{"value":["2010-02-28","0.6102463"]},{"value":["2010-03-31","0.6139901"]},{"value":["2010-04-30","0.6333005"]},{"value":["2010-05-31","0.5471921"]},{"value":["2010-06-30","0.5475862"]},{"value":["2010-07-31","0.5791133"]},{"value":["2010-08-31","0.5473892"]},{"value":["2010-09-30","0.5913300"]},{"value":["2010-10-31","0.6084729"]},{"value":["2010-11-30","0.6159606"]},{"value":["2010-12-31","0.6719211"]},{"value":["2011-01-31","0.6928079"]},{"value":["2011-02-28","0.7111330"]},{"value":["2011-03-31","0.7359606"]},{"value":["2011-04-30","0.7672906"]},{"value":["2011-05-31","0.7146798"]},{"value":["2011-06-30","0.6721182"]},{"value":["2011-07-31","0.6933990"]},{"value":["2011-08-31","0.6815764"]},{"value":["2011-09-30","0.5948769"]},{"value":["2011-10-31","0.6559606"]},{"value":["2011-11-30","0.6658128"]},{"value":["2011-12-31","0.6498522"]},{"value":["2012-01-31","0.6654187"]},{"value":["2012-02-29","0.7067980"]},{"value":["2012-03-31","0.6853202"]},{"value":["2012-04-30","0.6829557"]},{"value":["2012-05-31","0.5956650"]},{"value":["2012-06-30","0.5998030"]},{"value":["2012-07-31","0.6350739"]},{"value":["2012-08-31","0.6805912"]},{"value":["2012-09-30","0.6660098"]},{"value":["2012-10-31","0.6392118"]},{"value":["2012-11-30","0.6494581"]},{"value":["2012-12-31","0.6461084"]},{"value":["2013-01-31","0.6756650"]},{"value":["2013-02-28","0.6411823"]},{"value":["2013-03-31","0.6482759"]},{"value":["2013-04-30","0.6165517"]},{"value":["2013-05-31","0.6070936"]},{"value":["2013-06-30","0.6068965"]},{"value":["2013-07-31","0.6411823"]},{"value":["2013-08-31","0.6610837"]},{"value":["2013-09-30","0.6380296"]},{"value":["2013-10-31","0.6287685"]},{"value":["2013-11-30","0.6258128"]},{"value":["2013-12-31","0.6342857"]},{"value":["2014-01-31","0.6202956"]},{"value":["2014-02-28","0.6500493"]},{"value":["2014-03-31","0.6496552"]},{"value":["2014-04-30","0.6561576"]},{"value":["2014-05-31","0.6528079"]},{"value":["2014-06-30","0.6683743"]},{"value":["2014-07-31","0.6305419"]},{"value":["2014-08-31","0.6206897"]},{"value":["2014-09-30","0.5830542"]},{"value":["2014-10-31","0.5483744"]},{"value":["2014-11-30","0.4930049"]},{"value":["2014-12-31","0.4252217"]},{"value":["2015-01-31","0.3881774"]},{"value":["2015-02-28","0.4112315"]},{"value":["2015-03-31","0.3842365"]},{"value":["2015-04-30","0.4262069"]},{"value":["2015-05-31","0.4169458"]},{"value":["2015-06-30","0.4159606"]},{"value":["2015-07-31","0.3570444"]},{"value":["2015-08-31","0.3580296"]},{"value":["2015-09-30","0.3365517"]},{"value":["2015-10-31","0.3363547"]},{"value":["2015-11-30","0.3056158"]},{"value":["2015-12-31","0.2803941"]},{"value":["2016-01-31","0.2656158"]},{"value":["2016-02-29","0.2600985"]},{"value":["2016-03-31","0.2717241"]},{"value":["2016-04-30","0.2999015"]},{"value":["2016-05-31","0.3038424"]},{"value":["2016-06-30","0.3058128"]},{"value":["2016-07-31","0.2750739"]},{"value":["2016-08-31","0.2805911"]},{"value":["2016-09-30","0.2920197"]},{"value":["2016-10-31","0.2868966"]},{"value":["2016-11-30","0.2939901"]},{"value":["2016-12-31","0.3087685"]},{"value":["2017-01-31","0.3040394"]},{"value":["2017-02-28","0.3044335"]},{"value":["2017-03-31","0.2920197"]},{"value":["2017-04-30","0.2843350"]},{"value":["2017-05-31","0.2809852"]},{"value":["2017-06-30","0.2762562"]},{"value":["2017-07-31","0.2878818"]},{"value":["2017-08-31","0.2849261"]},{"value":["2017-09-30","0.2935961"]},{"value":["2017-10-31","0.3050246"]},{"value":["2017-11-30","0.3089655"]},{"value":["2017-12-31","0.3207882"]},{"value":["2018-01-31","0.3328079"]},{"value":["2018-02-28","0.3205911"]},{"value":["2018-03-31","0.3280788"]},{"value":["2018-04-30","0.3432512"]},{"value":["2018-05-31","0.3485714"]},{"value":["2018-06-30","0.3529064"]},{"value":["2018-07-31","0.3400985"]},{"value":["2018-08-31","0.3436453"]},{"value":["2018-09-30","0.3568473"]},{"value":["2018-10-31","0.3347783"]},{"value":["2018-11-30","0.2977340"]},{"value":["2018-12-31","0.2762562"]},{"value":["2019-01-31","0.2993103"]},{"value":["2019-02-28","0.3097537"]},{"value":["2019-03-31","0.3142857"]},{"value":["2019-04-30","0.3229556"]},{"value":["2019-05-31","0.2957635"]},{"value":["2019-06-30","0.3083744"]},{"value":["2019-07-31","0.3069951"]},{"value":["2019-08-31","0.2920197"]},{"value":["2019-09-30","0.2965517"]},{"value":["2019-10-31","0.2989163"]},{"value":["2019-11-30","0.3000985"]},{"value":["2019-12-31","0.3194088"]},{"value":["2020-01-31","0.2855172"]},{"value":["2020-02-29","0.2632512"]},{"value":["2020-03-31","0.1832512"]},{"value":["2020-04-30","0.1670936"]},{"value":["2020-05-31","0.1934975"]},{"value":["2020-06-30","0.2043350"]},{"value":["2020-07-31","0.2118227"]},{"value":["2020-08-31","0.2216749"]},{"value":["2020-09-30","0.2118227"]},{"value":["2020-10-31","0.2045320"]},{"value":["2020-11-30","0.2295567"]},{"value":["2020-12-31","0.2429557"]},{"value":["2021-01-31","0.2543842"]},{"value":["2021-02-28","0.2805911"]},{"value":["2021-03-31","0.2752709"]},{"value":["2021-04-30","0.2975369"]},{"value":["2021-05-31","0.3046305"]},{"value":["2021-06-30","0.3170443"]},{"value":["2021-07-31","0.3211822"]},{"value":["2021-08-31","0.3134975"]},{"value":["2021-09-30","0.3322168"]},{"value":["2021-10-31","0.3517241"]},{"value":["2021-11-30","0.3144828"]},{"value":["2021-12-31","0.3371429"]},{"value":["2022-01-31","0.3767488"]},{"value":["2022-02-28","0.4100492"]},{"value":["2022-03-31","0.4463054"]},{"value":["2022-04-30","0.4666010"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"commodities","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.0000000"]},{"value":["2006-08-31","1.0158169"]},{"value":["2006-09-30","1.0069720"]},{"value":["2006-10-31","1.0780437"]},{"value":["2006-11-30","1.1425598"]},{"value":["2006-12-31","1.2049407"]},{"value":["2007-01-31","1.2063131"]},{"value":["2007-02-28","1.1672633"]},{"value":["2007-03-31","1.2295319"]},{"value":["2007-04-30","1.2753358"]},{"value":["2007-05-31","1.3399254"]},{"value":["2007-06-30","1.3892128"]},{"value":["2007-07-31","1.3991334"]},{"value":["2007-08-31","1.4136976"]},{"value":["2007-09-30","1.5772836"]},{"value":["2007-10-31","1.7645099"]},{"value":["2007-11-30","1.6295253"]},{"value":["2007-12-31","1.6066029"]},{"value":["2008-01-31","1.4632598"]},{"value":["2008-02-29","1.4924411"]},{"value":["2008-03-31","1.4364292"]},{"value":["2008-04-30","1.5676937"]},{"value":["2008-05-31","1.6172924"]},{"value":["2008-06-30","1.4673780"]},{"value":["2008-07-31","1.3866132"]},{"value":["2008-08-31","1.2990378"]},{"value":["2008-09-30","1.1083176"]},{"value":["2008-10-31","0.8248322"]},{"value":["2008-11-30","0.7443924"]},{"value":["2008-12-31","0.8213143"]},{"value":["2009-01-31","0.7450051"]},{"value":["2009-02-28","0.6982981"]},{"value":["2009-03-31","0.8160517"]},{"value":["2009-04-30","0.9430150"]},{"value":["2009-05-31","1.0933319"]},{"value":["2009-06-30","1.0687376"]},{"value":["2009-07-31","1.1864544"]},{"value":["2009-08-31","1.1708695"]},{"value":["2009-09-30","1.2902444"]},{"value":["2009-10-31","1.2458101"]},{"value":["2009-11-30","1.3436316"]},{"value":["2009-12-31","1.3876463"]},{"value":["2010-01-31","1.2799783"]},{"value":["2010-02-28","1.3027162"]},{"value":["2010-03-31","1.4083778"]},{"value":["2010-04-30","1.4060366"]},{"value":["2010-05-31","1.2739601"]},{"value":["2010-06-30","1.2561415"]},{"value":["2010-07-31","1.3934690"]},{"value":["2010-08-31","1.3483666"]},{"value":["2010-09-30","1.5068985"]},{"value":["2010-10-31","1.5523378"]},{"value":["2010-11-30","1.5072354"]},{"value":["2010-12-31","1.6169287"]},{"value":["2011-01-31","1.5548177"]},{"value":["2011-02-28","1.5541389"]},{"value":["2011-03-31","1.6518877"]},{"value":["2011-04-30","1.6970288"]},{"value":["2011-05-31","1.6471363"]},{"value":["2011-06-30","1.6317271"]},{"value":["2011-07-31","1.6149303"]},{"value":["2011-08-31","1.4654693"]},{"value":["2011-09-30","1.2032276"]},{"value":["2011-10-31","1.3989659"]},{"value":["2011-11-30","1.3715422"]},{"value":["2011-12-31","1.3130487"]},{"value":["2012-01-31","1.4573665"]},{"value":["2012-02-29","1.5341972"]},{"value":["2012-03-31","1.4864376"]},{"value":["2012-04-30","1.4611732"]},{"value":["2012-05-31","1.3047426"]},{"value":["2012-06-30","1.3704410"]},{"value":["2012-07-31","1.3700909"]},{"value":["2012-08-31","1.3756946"]},{"value":["2012-09-30","1.4474914"]},{"value":["2012-10-31","1.4411872"]},{"value":["2012-11-30","1.4636022"]},{"value":["2012-12-31","1.5631795"]},{"value":["2013-01-31","1.5585975"]},{"value":["2013-02-28","1.5229984"]},{"value":["2013-03-31","1.5074902"]},{"value":["2013-04-30","1.5258180"]},{"value":["2013-05-31","1.4521535"]},{"value":["2013-06-30","1.3748149"]},{"value":["2013-07-31","1.3930265"]},{"value":["2013-08-31","1.3576742"]},{"value":["2013-09-30","1.4555184"]},{"value":["2013-10-31","1.5162240"]},{"value":["2013-11-30","1.5122962"]},{"value":["2013-12-31","1.5061472"]},{"value":["2014-01-31","1.3760713"]},{"value":["2014-02-28","1.4225525"]},{"value":["2014-03-31","1.4776819"]},{"value":["2014-04-30","1.4892122"]},{"value":["2014-05-31","1.5331715"]},{"value":["2014-06-30","1.5699947"]},{"value":["2014-07-31","1.5914219"]},{"value":["2014-08-31","1.6364550"]},{"value":["2014-09-30","1.5093449"]},{"value":["2014-10-31","1.5307721"]},{"value":["2014-11-30","1.5071660"]},{"value":["2014-12-31","1.4474289"]},{"value":["2015-01-31","1.4374823"]},{"value":["2015-02-28","1.5008463"]},{"value":["2015-03-31","1.4783741"]},{"value":["2015-04-30","1.5796833"]},{"value":["2015-05-31","1.5148454"]},{"value":["2015-06-30","1.4704473"]},{"value":["2015-07-31","1.3776630"]},{"value":["2015-08-31","1.2559301"]},{"value":["2015-09-30","1.2165892"]},{"value":["2015-10-31","1.2941568"]},{"value":["2015-11-30","1.2614970"]},{"value":["2015-12-31","1.2133098"]},{"value":["2016-01-31","1.1522486"]},{"value":["2016-02-29","1.1428256"]},{"value":["2016-03-31","1.2909556"]},{"value":["2016-04-30","1.2962326"]},{"value":["2016-05-31","1.2483634"]},{"value":["2016-06-30","1.3052778"]},{"value":["2016-07-31","1.3755560"]},{"value":["2016-08-31","1.3877124"]},{"value":["2016-09-30","1.4226617"]},{"value":["2016-10-31","1.4108850"]},{"value":["2016-11-30","1.3485844"]},{"value":["2016-12-31","1.3451768"]},{"value":["2017-01-31","1.4347019"]},{"value":["2017-02-28","1.4596765"]},{"value":["2017-03-31","1.5134680"]},{"value":["2017-04-30","1.5392113"]},{"value":["2017-05-31","1.5830130"]},{"value":["2017-06-30","1.5976819"]},{"value":["2017-07-31","1.6907096"]},{"value":["2017-08-31","1.7304684"]},{"value":["2017-09-30","1.7296963"]},{"value":["2017-10-31","1.7864390"]},{"value":["2017-11-30","1.7794909"]},{"value":["2017-12-31","1.8464275"]},{"value":["2018-01-31","1.9996436"]},{"value":["2018-02-28","1.8816948"]},{"value":["2018-03-31","1.8918832"]},{"value":["2018-04-30","1.8385907"]},{"value":["2018-05-31","1.7903923"]},{"value":["2018-06-30","1.7090067"]},{"value":["2018-07-31","1.7693524"]},{"value":["2018-08-31","1.7026960"]},{"value":["2018-09-30","1.6928357"]},{"value":["2018-10-31","1.5445349"]},{"value":["2018-11-30","1.6202630"]},{"value":["2018-12-31","1.5637340"]},{"value":["2019-01-31","1.7254716"]},{"value":["2019-02-28","1.6990490"]},{"value":["2019-03-31","1.7182655"]},{"value":["2019-04-30","1.7587001"]},{"value":["2019-05-31","1.6297900"]},{"value":["2019-06-30","1.7309632"]},{"value":["2019-07-31","1.6849764"]},{"value":["2019-08-31","1.6212399"]},{"value":["2019-09-30","1.6486706"]},{"value":["2019-10-31","1.7176512"]},{"value":["2019-11-30","1.7160379"]},{"value":["2019-12-31","1.8486921"]},{"value":["2020-01-31","1.7349771"]},{"value":["2020-02-29","1.6694673"]},{"value":["2020-03-31","1.4061924"]},{"value":["2020-04-30","1.5096074"]},{"value":["2020-05-31","1.5545163"]},{"value":["2020-06-30","1.6571908"]},{"value":["2020-07-31","1.7939431"]},{"value":["2020-08-31","1.8457435"]},{"value":["2020-09-30","1.8270953"]},{"value":["2020-10-31","1.8527880"]},{"value":["2020-11-30","2.0193774"]},{"value":["2020-12-31","2.1633481"]},{"value":["2021-01-31","2.2320127"]},{"value":["2021-02-28","2.2495973"]},{"value":["2021-03-31","2.2332685"]},{"value":["2021-04-30","2.2600644"]},{"value":["2021-05-31","2.2973275"]},{"value":["2021-06-30","2.3191613"]},{"value":["2021-07-31","2.1698771"]},{"value":["2021-08-31","2.2039392"]},{"value":["2021-09-30","2.1185740"]},{"value":["2021-10-31","2.1412817"]},{"value":["2021-11-30","2.0538140"]},{"value":["2021-12-31","2.0847664"]},{"value":["2022-01-31","2.0843397"]},{"value":["2022-02-28","1.9942915"]},{"value":["2022-03-31","1.9268620"]},{"value":["2022-04-30","1.8086470"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"emerging_markets","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.0000000"]},{"value":["2006-08-31","1.0254853"]},{"value":["2006-09-30","1.0277611"]},{"value":["2006-10-31","1.0662928"]},{"value":["2006-11-30","1.0990594"]},{"value":["2006-12-31","1.1341988"]},{"value":["2007-01-31","1.1499987"]},{"value":["2007-02-28","1.1486047"]},{"value":["2007-03-31","1.1819088"]},{"value":["2007-04-30","1.2262111"]},{"value":["2007-05-31","1.2551778"]},{"value":["2007-06-30","1.2511503"]},{"value":["2007-07-31","1.2224933"]},{"value":["2007-08-31","1.2147482"]},{"value":["2007-09-30","1.2793429"]},{"value":["2007-10-31","1.3337136"]},{"value":["2007-11-30","1.2853836"]},{"value":["2007-12-31","1.2470628"]},{"value":["2008-01-31","1.1492041"]},{"value":["2008-02-29","1.1374482"]},{"value":["2008-03-31","1.1422148"]},{"value":["2008-04-30","1.2043290"]},{"value":["2008-05-31","1.2186266"]},{"value":["2008-06-30","1.1115482"]},{"value":["2008-07-31","1.0746425"]},{"value":["2008-08-31","1.0289956"]},{"value":["2008-09-30","0.9113174"]},{"value":["2008-10-31","0.7214463"]},{"value":["2008-11-30","0.6754755"]},{"value":["2008-12-31","0.7353797"]},{"value":["2009-01-31","0.6344001"]},{"value":["2009-02-28","0.5685011"]},{"value":["2009-03-31","0.6162042"]},{"value":["2009-04-30","0.6871846"]},{"value":["2009-05-31","0.7778370"]},{"value":["2009-06-30","0.7669090"]},{"value":["2009-07-31","0.8439180"]},{"value":["2009-08-31","0.8819201"]},{"value":["2009-09-30","0.9154021"]},{"value":["2009-10-31","0.8922993"]},{"value":["2009-11-30","0.9272882"]},{"value":["2009-12-31","0.9338688"]},{"value":["2010-01-31","0.8865670"]},{"value":["2010-02-28","0.8889321"]},{"value":["2010-03-31","0.9456940"]},{"value":["2010-04-30","0.9191714"]},{"value":["2010-05-31","0.8162905"]},{"value":["2010-06-30","0.7994590"]},{"value":["2010-07-31","0.8922795"]},{"value":["2010-08-31","0.8584172"]},{"value":["2010-09-30","0.9440183"]},{"value":["2010-10-31","0.9799434"]},{"value":["2010-11-30","0.9326733"]},{"value":["2010-12-31","1.0101603"]},{"value":["2011-01-31","1.0313287"]},{"value":["2011-02-28","1.0679389"]},{"value":["2011-03-31","1.0424330"]},{"value":["2011-04-30","1.1010786"]},{"value":["2011-05-31","1.0767876"]},{"value":["2011-06-30","1.0637506"]},{"value":["2011-07-31","1.0384567"]},{"value":["2011-08-31","0.9475409"]},{"value":["2011-09-30","0.8451279"]},{"value":["2011-10-31","0.9264924"]},{"value":["2011-11-30","0.9063280"]},{"value":["2011-12-31","0.8866163"]},{"value":["2012-01-31","0.9333365"]},{"value":["2012-02-29","0.9784460"]},{"value":["2012-03-31","0.9825631"]},{"value":["2012-04-30","0.9621565"]},{"value":["2012-05-31","0.8549319"]},{"value":["2012-06-30","0.9151474"]},{"value":["2012-07-31","0.9158803"]},{"value":["2012-08-31","0.9451883"]},{"value":["2012-09-30","0.9708329"]},{"value":["2012-10-31","0.9814573"]},{"value":["2012-11-30","1.0087506"]},{"value":["2012-12-31","1.0529455"]},{"value":["2013-01-31","1.0922040"]},{"value":["2013-02-28","1.0781302"]},{"value":["2013-03-31","1.0922040"]},{"value":["2013-04-30","1.1470180"]},{"value":["2013-05-31","1.1123891"]},{"value":["2013-06-30","1.0825998"]},{"value":["2013-07-31","1.1402251"]},{"value":["2013-08-31","1.1179308"]},{"value":["2013-09-30","1.2054080"]},{"value":["2013-10-31","1.2447065"]},{"value":["2013-11-30","1.2515082"]},{"value":["2013-12-31","1.2787428"]},{"value":["2014-01-31","1.2122329"]},{"value":["2014-02-28","1.2865562"]},{"value":["2014-03-31","1.2806484"]},{"value":["2014-04-30","1.3019926"]},{"value":["2014-05-31","1.3227654"]},{"value":["2014-06-30","1.3349446"]},{"value":["2014-07-31","1.3001894"]},{"value":["2014-08-31","1.3025324"]},{"value":["2014-09-30","1.2519619"]},{"value":["2014-10-31","1.2486427"]},{"value":["2014-11-30","1.2494237"]},{"value":["2014-12-31","1.1995370"]},{"value":["2015-01-31","1.2070293"]},{"value":["2015-02-28","1.2835282"]},{"value":["2015-03-31","1.2651922"]},{"value":["2015-04-30","1.3113283"]},{"value":["2015-05-31","1.3138914"]},{"value":["2015-06-30","1.2729213"]},{"value":["2015-07-31","1.2987846"]},{"value":["2015-08-31","1.2023483"]},{"value":["2015-09-30","1.1492179"]},{"value":["2015-10-31","1.2252043"]},{"value":["2015-11-30","1.2159816"]},{"value":["2015-12-31","1.1876263"]},{"value":["2016-01-31","1.1220963"]},{"value":["2016-02-29","1.0846797"]},{"value":["2016-03-31","1.1560749"]},{"value":["2016-04-30","1.1817609"]},{"value":["2016-05-31","1.1807498"]},{"value":["2016-06-30","1.1521827"]},{"value":["2016-07-31","1.1980056"]},{"value":["2016-08-31","1.2044045"]},{"value":["2016-09-30","1.2205045"]},{"value":["2016-10-31","1.1934647"]},{"value":["2016-11-30","1.1722043"]},{"value":["2016-12-31","1.2039274"]},{"value":["2017-01-31","1.2435508"]},{"value":["2017-02-28","1.2583576"]},{"value":["2017-03-31","1.2990236"]},{"value":["2017-04-30","1.3305140"]},{"value":["2017-05-31","1.3776448"]},{"value":["2017-06-30","1.3817233"]},{"value":["2017-07-31","1.4183857"]},{"value":["2017-08-31","1.4177496"]},{"value":["2017-09-30","1.4512332"]},{"value":["2017-10-31","1.4756039"]},{"value":["2017-11-30","1.4857765"]},{"value":["2017-12-31","1.5058173"]},{"value":["2018-01-31","1.5814184"]},{"value":["2018-02-28","1.5049606"]},{"value":["2018-03-31","1.4923249"]},{"value":["2018-04-30","1.5150265"]},{"value":["2018-05-31","1.4863280"]},{"value":["2018-06-30","1.4627832"]},{"value":["2018-07-31","1.5045019"]},{"value":["2018-08-31","1.4708647"]},{"value":["2018-09-30","1.4850621"]},{"value":["2018-10-31","1.3642741"]},{"value":["2018-11-30","1.3710451"]},{"value":["2018-12-31","1.2976975"]},{"value":["2019-01-31","1.3837986"]},{"value":["2019-02-28","1.4189012"]},{"value":["2019-03-31","1.4319267"]},{"value":["2019-04-30","1.4738736"]},{"value":["2019-05-31","1.3996941"]},{"value":["2019-06-30","1.4824393"]},{"value":["2019-07-31","1.4535706"]},{"value":["2019-08-31","1.4256043"]},{"value":["2019-09-30","1.4707113"]},{"value":["2019-10-31","1.5205545"]},{"value":["2019-11-30","1.5376950"]},{"value":["2019-12-31","1.5837552"]},{"value":["2020-01-31","1.5390523"]},{"value":["2020-02-29","1.4195409"]},{"value":["2020-03-31","1.2192909"]},{"value":["2020-04-30","1.2902221"]},{"value":["2020-05-31","1.3602413"]},{"value":["2020-06-30","1.4080020"]},{"value":["2020-07-31","1.4352969"]},{"value":["2020-08-31","1.5030717"]},{"value":["2020-09-30","1.4723071"]},{"value":["2020-10-31","1.4200302"]},{"value":["2020-11-30","1.6226606"]},{"value":["2020-12-31","1.7040434"]},{"value":["2021-01-31","1.6907307"]},{"value":["2021-02-28","1.7285673"]},{"value":["2021-03-31","1.7720091"]},{"value":["2021-04-30","1.8243261"]},{"value":["2021-05-31","1.8878541"]},{"value":["2021-06-30","1.8675029"]},{"value":["2021-07-31","1.8819446"]},{"value":["2021-08-31","1.9091712"]},{"value":["2021-09-30","1.8469054"]},{"value":["2021-10-31","1.9056199"]},{"value":["2021-11-30","1.8192053"]},{"value":["2021-12-31","1.8990854"]},{"value":["2022-01-31","1.8300541"]},{"value":["2022-02-28","1.7672983"]},{"value":["2022-03-31","1.7764703"]},{"value":["2022-04-30","1.6567516"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"global_stocks","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.000000"]},{"value":["2006-08-31","1.017636"]},{"value":["2006-09-30","1.029923"]},{"value":["2006-10-31","1.035470"]},{"value":["2006-11-30","1.049049"]},{"value":["2006-12-31","1.035667"]},{"value":["2007-01-31","1.031522"]},{"value":["2007-02-28","1.052720"]},{"value":["2007-03-31","1.051264"]},{"value":["2007-04-30","1.057642"]},{"value":["2007-05-31","1.042902"]},{"value":["2007-06-30","1.038026"]},{"value":["2007-07-31","1.061452"]},{"value":["2007-08-31","1.085473"]},{"value":["2007-09-30","1.086431"]},{"value":["2007-10-31","1.098133"]},{"value":["2007-11-30","1.142580"]},{"value":["2007-12-31","1.143158"]},{"value":["2008-01-31","1.181521"]},{"value":["2008-02-29","1.196164"]},{"value":["2008-03-31","1.212159"]},{"value":["2008-04-30","1.182857"]},{"value":["2008-05-31","1.161832"]},{"value":["2008-06-30","1.175146"]},{"value":["2008-07-31","1.183614"]},{"value":["2008-08-31","1.201684"]},{"value":["2008-09-30","1.199997"]},{"value":["2008-10-31","1.189643"]},{"value":["2008-11-30","1.281885"]},{"value":["2008-12-31","1.347982"]},{"value":["2009-01-31","1.295584"]},{"value":["2009-02-28","1.286063"]},{"value":["2009-03-31","1.328678"]},{"value":["2009-04-30","1.292203"]},{"value":["2009-05-31","1.265360"]},{"value":["2009-06-30","1.258310"]},{"value":["2009-07-31","1.268776"]},{"value":["2009-08-31","1.278462"]},{"value":["2009-09-30","1.292836"]},{"value":["2009-10-31","1.291053"]},{"value":["2009-11-30","1.317095"]},{"value":["2009-12-31","1.259107"]},{"value":["2010-01-31","1.288950"]},{"value":["2010-02-28","1.293227"]},{"value":["2010-03-31","1.279560"]},{"value":["2010-04-30","1.300707"]},{"value":["2010-05-31","1.338861"]},{"value":["2010-06-30","1.379672"]},{"value":["2010-07-31","1.392223"]},{"value":["2010-08-31","1.438945"]},{"value":["2010-09-30","1.438902"]},{"value":["2010-10-31","1.438800"]},{"value":["2010-11-30","1.425877"]},{"value":["2010-12-31","1.376956"]},{"value":["2011-01-31","1.376662"]},{"value":["2011-02-28","1.373793"]},{"value":["2011-03-31","1.371670"]},{"value":["2011-04-30","1.396926"]},{"value":["2011-05-31","1.431927"]},{"value":["2011-06-30","1.424704"]},{"value":["2011-07-31","1.469860"]},{"value":["2011-08-31","1.538230"]},{"value":["2011-09-30","1.572641"]},{"value":["2011-10-31","1.552408"]},{"value":["2011-11-30","1.561410"]},{"value":["2011-12-31","1.592445"]},{"value":["2012-01-31","1.606173"]},{"value":["2012-02-29","1.588507"]},{"value":["2012-03-31","1.563230"]},{"value":["2012-04-30","1.602454"]},{"value":["2012-05-31","1.648437"]},{"value":["2012-06-30","1.641607"]},{"value":["2012-07-31","1.664609"]},{"value":["2012-08-31","1.662656"]},{"value":["2012-09-30","1.656866"]},{"value":["2012-10-31","1.650304"]},{"value":["2012-11-30","1.666464"]},{"value":["2012-12-31","1.650793"]},{"value":["2013-01-31","1.629446"]},{"value":["2013-02-28","1.647899"]},{"value":["2013-03-31","1.652626"]},{"value":["2013-04-30","1.677833"]},{"value":["2013-05-31","1.625735"]},{"value":["2013-06-30","1.584342"]},{"value":["2013-07-31","1.578755"]},{"value":["2013-08-31","1.556295"]},{"value":["2013-09-30","1.585028"]},{"value":["2013-10-31","1.597357"]},{"value":["2013-11-30","1.583358"]},{"value":["2013-12-31","1.550256"]},{"value":["2014-01-31","1.597745"]},{"value":["2014-02-28","1.603456"]},{"value":["2014-03-31","1.594460"]},{"value":["2014-04-30","1.606551"]},{"value":["2014-05-31","1.635877"]},{"value":["2014-06-30","1.632331"]},{"value":["2014-07-31","1.628731"]},{"value":["2014-08-31","1.659356"]},{"value":["2014-09-30","1.641942"]},{"value":["2014-10-31","1.667166"]},{"value":["2014-11-30","1.688650"]},{"value":["2014-12-31","1.690836"]},{"value":["2015-01-31","1.763580"]},{"value":["2015-02-28","1.719989"]},{"value":["2015-03-31","1.734713"]},{"value":["2015-04-30","1.723733"]},{"value":["2015-05-31","1.716556"]},{"value":["2015-06-30","1.688560"]},{"value":["2015-07-31","1.714200"]},{"value":["2015-08-31","1.715555"]},{"value":["2015-09-30","1.742646"]},{"value":["2015-10-31","1.731547"]},{"value":["2015-11-30","1.724142"]},{"value":["2015-12-31","1.716331"]},{"value":["2016-01-31","1.773548"]},{"value":["2016-02-29","1.799902"]},{"value":["2016-03-31","1.798711"]},{"value":["2016-04-30","1.795904"]},{"value":["2016-05-31","1.794122"]},{"value":["2016-06-30","1.849517"]},{"value":["2016-07-31","1.854076"]},{"value":["2016-08-31","1.835324"]},{"value":["2016-09-30","1.839681"]},{"value":["2016-10-31","1.812183"]},{"value":["2016-11-30","1.735578"]},{"value":["2016-12-31","1.733521"]},{"value":["2017-01-31","1.737325"]},{"value":["2017-02-28","1.749897"]},{"value":["2017-03-31","1.751307"]},{"value":["2017-04-30","1.770725"]},{"value":["2017-05-31","1.785364"]},{"value":["2017-06-30","1.776268"]},{"value":["2017-07-31","1.782925"]},{"value":["2017-08-31","1.808913"]},{"value":["2017-09-30","1.782836"]},{"value":["2017-10-31","1.779467"]},{"value":["2017-11-30","1.774498"]},{"value":["2017-12-31","1.777776"]},{"value":["2018-01-31","1.739550"]},{"value":["2018-02-28","1.723324"]},{"value":["2018-03-31","1.743241"]},{"value":["2018-04-30","1.720989"]},{"value":["2018-05-31","1.737960"]},{"value":["2018-06-30","1.741391"]},{"value":["2018-07-31","1.732201"]},{"value":["2018-08-31","1.749765"]},{"value":["2018-09-30","1.728679"]},{"value":["2018-10-31","1.723441"]},{"value":["2018-11-30","1.746364"]},{"value":["2018-12-31","1.795336"]},{"value":["2019-01-31","1.807053"]},{"value":["2019-02-28","1.797556"]},{"value":["2019-03-31","1.845284"]},{"value":["2019-04-30","1.835715"]},{"value":["2019-05-31","1.891679"]},{"value":["2019-06-30","1.914703"]},{"value":["2019-07-31","1.915436"]},{"value":["2019-08-31","1.991127"]},{"value":["2019-09-30","1.967511"]},{"value":["2019-10-31","1.971208"]},{"value":["2019-11-30","1.957662"]},{"value":["2019-12-31","1.939493"]},{"value":["2020-01-31","2.006712"]},{"value":["2020-02-29","2.066145"]},{"value":["2020-03-31","2.143061"]},{"value":["2020-04-30","2.148960"]},{"value":["2020-05-31","2.155997"]},{"value":["2020-06-30","2.156918"]},{"value":["2020-07-31","2.175340"]},{"value":["2020-08-31","2.154243"]},{"value":["2020-09-30","2.161304"]},{"value":["2020-10-31","2.131461"]},{"value":["2020-11-30","2.138673"]},{"value":["2020-12-31","2.133573"]},{"value":["2021-01-31","2.110272"]},{"value":["2021-02-28","2.060399"]},{"value":["2021-03-31","2.011244"]},{"value":["2021-04-30","2.031382"]},{"value":["2021-05-31","2.040013"]},{"value":["2021-06-30","2.060873"]},{"value":["2021-07-31","2.101890"]},{"value":["2021-08-31","2.093599"]},{"value":["2021-09-30","2.060163"]},{"value":["2021-10-31","2.051037"]},{"value":["2021-11-30","2.073437"]},{"value":["2021-12-31","2.062572"]},{"value":["2022-01-31","2.018988"]},{"value":["2022-02-28","2.012849"]},{"value":["2022-03-31","1.931109"]},{"value":["2022-04-30","1.849456"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"treasury_notes","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.000000"]},{"value":["2006-08-31","1.015909"]},{"value":["2006-09-30","1.026186"]},{"value":["2006-10-31","1.033222"]},{"value":["2006-11-30","1.044194"]},{"value":["2006-12-31","1.037925"]},{"value":["2007-01-31","1.037195"]},{"value":["2007-02-28","1.054054"]},{"value":["2007-03-31","1.051998"]},{"value":["2007-04-30","1.058202"]},{"value":["2007-05-31","1.048496"]},{"value":["2007-06-30","1.044544"]},{"value":["2007-07-31","1.055753"]},{"value":["2007-08-31","1.069262"]},{"value":["2007-09-30","1.076028"]},{"value":["2007-10-31","1.086874"]},{"value":["2007-11-30","1.106476"]},{"value":["2007-12-31","1.106374"]},{"value":["2008-01-31","1.131964"]},{"value":["2008-02-29","1.130152"]},{"value":["2008-03-31","1.131618"]},{"value":["2008-04-30","1.135325"]},{"value":["2008-05-31","1.120961"]},{"value":["2008-06-30","1.118887"]},{"value":["2008-07-31","1.123295"]},{"value":["2008-08-31","1.131630"]},{"value":["2008-09-30","1.111716"]},{"value":["2008-10-31","1.086357"]},{"value":["2008-11-30","1.119212"]},{"value":["2008-12-31","1.193778"]},{"value":["2009-01-31","1.170062"]},{"value":["2009-02-28","1.157715"]},{"value":["2009-03-31","1.170484"]},{"value":["2009-04-30","1.176514"]},{"value":["2009-05-31","1.184863"]},{"value":["2009-06-30","1.189849"]},{"value":["2009-07-31","1.204949"]},{"value":["2009-08-31","1.219652"]},{"value":["2009-09-30","1.234144"]},{"value":["2009-10-31","1.236881"]},{"value":["2009-11-30","1.252791"]},{"value":["2009-12-31","1.229224"]},{"value":["2010-01-31","1.246616"]},{"value":["2010-02-28","1.249090"]},{"value":["2010-03-31","1.249006"]},{"value":["2010-04-30","1.261162"]},{"value":["2010-05-31","1.274813"]},{"value":["2010-06-30","1.297361"]},{"value":["2010-07-31","1.308450"]},{"value":["2010-08-31","1.325287"]},{"value":["2010-09-30","1.325385"]},{"value":["2010-10-31","1.327402"]},{"value":["2010-11-30","1.316319"]},{"value":["2010-12-31","1.307429"]},{"value":["2011-01-31","1.306316"]},{"value":["2011-02-28","1.310111"]},{"value":["2011-03-31","1.307188"]},{"value":["2011-04-30","1.327679"]},{"value":["2011-05-31","1.344139"]},{"value":["2011-06-30","1.338156"]},{"value":["2011-07-31","1.360726"]},{"value":["2011-08-31","1.381415"]},{"value":["2011-09-30","1.392061"]},{"value":["2011-10-31","1.393821"]},{"value":["2011-11-30","1.389211"]},{"value":["2011-12-31","1.408058"]},{"value":["2012-01-31","1.418275"]},{"value":["2012-02-29","1.418084"]},{"value":["2012-03-31","1.409959"]},{"value":["2012-04-30","1.422732"]},{"value":["2012-05-31","1.438072"]},{"value":["2012-06-30","1.437788"]},{"value":["2012-07-31","1.457371"]},{"value":["2012-08-31","1.457371"]},{"value":["2012-09-30","1.461257"]},{"value":["2012-10-31","1.460568"]},{"value":["2012-11-30","1.464520"]},{"value":["2012-12-31","1.460930"]},{"value":["2013-01-31","1.451854"]},{"value":["2013-02-28","1.460432"]},{"value":["2013-03-31","1.461872"]},{"value":["2013-04-30","1.476031"]},{"value":["2013-05-31","1.446494"]},{"value":["2013-06-30","1.423851"]},{"value":["2013-07-31","1.427682"]},{"value":["2013-08-31","1.415885"]},{"value":["2013-09-30","1.431751"]},{"value":["2013-10-31","1.443673"]},{"value":["2013-11-30","1.440054"]},{"value":["2013-12-31","1.432036"]},{"value":["2014-01-31","1.454102"]},{"value":["2014-02-28","1.459576"]},{"value":["2014-03-31","1.457415"]},{"value":["2014-04-30","1.469391"]},{"value":["2014-05-31","1.486715"]},{"value":["2014-06-30","1.485860"]},{"value":["2014-07-31","1.482131"]},{"value":["2014-08-31","1.499171"]},{"value":["2014-09-30","1.489954"]},{"value":["2014-10-31","1.505807"]},{"value":["2014-11-30","1.515701"]},{"value":["2014-12-31","1.517938"]},{"value":["2015-01-31","1.549091"]},{"value":["2015-02-28","1.535230"]},{"value":["2015-03-31","1.540983"]},{"value":["2015-04-30","1.536009"]},{"value":["2015-05-31","1.529290"]},{"value":["2015-06-30","1.512825"]},{"value":["2015-07-31","1.525867"]},{"value":["2015-08-31","1.520743"]},{"value":["2015-09-30","1.533083"]},{"value":["2015-10-31","1.534134"]},{"value":["2015-11-30","1.528165"]},{"value":["2015-12-31","1.525235"]},{"value":["2016-01-31","1.544158"]},{"value":["2016-02-29","1.557856"]},{"value":["2016-03-31","1.571482"]},{"value":["2016-04-30","1.575489"]},{"value":["2016-05-31","1.575702"]},{"value":["2016-06-30","1.606195"]},{"value":["2016-07-31","1.614939"]},{"value":["2016-08-31","1.611461"]},{"value":["2016-09-30","1.612292"]},{"value":["2016-10-31","1.599118"]},{"value":["2016-11-30","1.558092"]},{"value":["2016-12-31","1.562052"]},{"value":["2017-01-31","1.565377"]},{"value":["2017-02-28","1.575487"]},{"value":["2017-03-31","1.574616"]},{"value":["2017-04-30","1.588897"]},{"value":["2017-05-31","1.599815"]},{"value":["2017-06-30","1.599523"]},{"value":["2017-07-31","1.604865"]},{"value":["2017-08-31","1.619972"]},{"value":["2017-09-30","1.610712"]},{"value":["2017-10-31","1.612288"]},{"value":["2017-11-30","1.609898"]},{"value":["2017-12-31","1.617547"]},{"value":["2018-01-31","1.599349"]},{"value":["2018-02-28","1.583216"]},{"value":["2018-03-31","1.593841"]},{"value":["2018-04-30","1.578843"]},{"value":["2018-05-31","1.589293"]},{"value":["2018-06-30","1.590924"]},{"value":["2018-07-31","1.590458"]},{"value":["2018-08-31","1.599492"]},{"value":["2018-09-30","1.589581"]},{"value":["2018-10-31","1.579342"]},{"value":["2018-11-30","1.591527"]},{"value":["2018-12-31","1.623059"]},{"value":["2019-01-31","1.637843"]},{"value":["2019-02-28","1.635979"]},{"value":["2019-03-31","1.670704"]},{"value":["2019-04-30","1.667357"]},{"value":["2019-05-31","1.699218"]},{"value":["2019-06-30","1.717885"]},{"value":["2019-07-31","1.721009"]},{"value":["2019-08-31","1.768900"]},{"value":["2019-09-30","1.758073"]},{"value":["2019-10-31","1.761732"]},{"value":["2019-11-30","1.761123"]},{"value":["2019-12-31","1.760299"]},{"value":["2020-01-31","1.796016"]},{"value":["2020-02-29","1.824477"]},{"value":["2020-03-31","1.814865"]},{"value":["2020-04-30","1.846064"]},{"value":["2020-05-31","1.858480"]},{"value":["2020-06-30","1.870729"]},{"value":["2020-07-31","1.895670"]},{"value":["2020-08-31","1.880057"]},{"value":["2020-09-30","1.878227"]},{"value":["2020-10-31","1.867741"]},{"value":["2020-11-30","1.890280"]},{"value":["2020-12-31","1.891901"]},{"value":["2021-01-31","1.877814"]},{"value":["2021-02-28","1.849307"]},{"value":["2021-03-31","1.828108"]},{"value":["2021-04-30","1.841490"]},{"value":["2021-05-31","1.845243"]},{"value":["2021-06-30","1.860520"]},{"value":["2021-07-31","1.881294"]},{"value":["2021-08-31","1.877525"]},{"value":["2021-09-30","1.860304"]},{"value":["2021-10-31","1.860142"]},{"value":["2021-11-30","1.865180"]},{"value":["2021-12-31","1.858489"]},{"value":["2022-01-31","1.821345"]},{"value":["2022-02-28","1.800479"]},{"value":["2022-03-31","1.749846"]},{"value":["2022-04-30","1.683249"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"us_bonds","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.0000000"]},{"value":["2006-08-31","1.0297904"]},{"value":["2006-09-30","1.0543109"]},{"value":["2006-10-31","1.1226398"]},{"value":["2006-11-30","1.1745692"]},{"value":["2006-12-31","1.1540296"]},{"value":["2007-01-31","1.2654870"]},{"value":["2007-02-28","1.2202118"]},{"value":["2007-03-31","1.1893739"]},{"value":["2007-04-30","1.1928621"]},{"value":["2007-05-31","1.1946762"]},{"value":["2007-06-30","1.0906144"]},{"value":["2007-07-31","0.9917240"]},{"value":["2007-08-31","1.0438461"]},{"value":["2007-09-30","1.0868769"]},{"value":["2007-10-31","1.0951206"]},{"value":["2007-11-30","0.9952023"]},{"value":["2007-12-31","0.9445588"]},{"value":["2008-01-31","0.9455647"]},{"value":["2008-02-29","0.9058849"]},{"value":["2008-03-31","0.9463749"]},{"value":["2008-04-30","1.0013259"]},{"value":["2008-05-31","1.0094667"]},{"value":["2008-06-30","0.8928371"]},{"value":["2008-07-31","0.9148642"]},{"value":["2008-08-31","0.9314579"]},{"value":["2008-09-30","0.9213781"]},{"value":["2008-10-31","0.6328435"]},{"value":["2008-11-30","0.4964585"]},{"value":["2008-12-31","0.5678892"]},{"value":["2009-01-31","0.4780459"]},{"value":["2009-02-28","0.3834738"]},{"value":["2009-03-31","0.3971068"]},{"value":["2009-04-30","0.5147102"]},{"value":["2009-05-31","0.5264082"]},{"value":["2009-06-30","0.5133200"]},{"value":["2009-07-31","0.5676288"]},{"value":["2009-08-31","0.6425210"]},{"value":["2009-09-30","0.6816594"]},{"value":["2009-10-31","0.6477922"]},{"value":["2009-11-30","0.6936407"]},{"value":["2009-12-31","0.7415421"]},{"value":["2010-01-31","0.7013324"]},{"value":["2010-02-28","0.7396047"]},{"value":["2010-03-31","0.8117047"]},{"value":["2010-04-30","0.8635574"]},{"value":["2010-05-31","0.8144770"]},{"value":["2010-06-30","0.7764397"]},{"value":["2010-07-31","0.8494622"]},{"value":["2010-08-31","0.8384431"]},{"value":["2010-09-30","0.8772605"]},{"value":["2010-10-31","0.9117669"]},{"value":["2010-11-30","0.8973336"]},{"value":["2010-12-31","0.9383786"]},{"value":["2011-01-31","0.9719156"]},{"value":["2011-02-28","1.0158500"]},{"value":["2011-03-31","1.0047422"]},{"value":["2011-04-30","1.0515963"]},{"value":["2011-05-31","1.0622525"]},{"value":["2011-06-30","1.0292593"]},{"value":["2011-07-31","1.0314780"]},{"value":["2011-08-31","0.9766868"]},{"value":["2011-09-30","0.8724915"]},{"value":["2011-10-31","0.9875703"]},{"value":["2011-11-30","0.9513384"]},{"value":["2011-12-31","0.9904138"]},{"value":["2012-01-31","1.0557902"]},{"value":["2012-02-29","1.0484684"]},{"value":["2012-03-31","1.0955757"]},{"value":["2012-04-30","1.1238884"]},{"value":["2012-05-31","1.0765834"]},{"value":["2012-06-30","1.1343449"]},{"value":["2012-07-31","1.1607786"]},{"value":["2012-08-31","1.1643267"]},{"value":["2012-09-30","1.1513127"]},{"value":["2012-10-31","1.1445173"]},{"value":["2012-11-30","1.1379007"]},{"value":["2012-12-31","1.1707344"]},{"value":["2013-01-31","1.2178026"]},{"value":["2013-02-28","1.2331909"]},{"value":["2013-03-31","1.2685210"]},{"value":["2013-04-30","1.3411853"]},{"value":["2013-05-31","1.2540980"]},{"value":["2013-06-30","1.2242161"]},{"value":["2013-07-31","1.2271647"]},{"value":["2013-08-31","1.1470002"]},{"value":["2013-09-30","1.1865737"]},{"value":["2013-10-31","1.2308446"]},{"value":["2013-11-30","1.1737389"]},{"value":["2013-12-31","1.1843575"]},{"value":["2014-01-31","1.2251003"]},{"value":["2014-02-28","1.2833046"]},{"value":["2014-03-31","1.2851677"]},{"value":["2014-04-30","1.3241008"]},{"value":["2014-05-31","1.3611340"]},{"value":["2014-06-30","1.3749170"]},{"value":["2014-07-31","1.3733847"]},{"value":["2014-08-31","1.4210732"]},{"value":["2014-09-30","1.3373636"]},{"value":["2014-10-31","1.4490685"]},{"value":["2014-11-30","1.4884937"]},{"value":["2014-12-31","1.5004752"]},{"value":["2015-01-31","1.5862002"]},{"value":["2015-02-28","1.5449979"]},{"value":["2015-03-31","1.5615996"]},{"value":["2015-04-30","1.4863937"]},{"value":["2015-05-31","1.4814718"]},{"value":["2015-06-30","1.4163176"]},{"value":["2015-07-31","1.4864386"]},{"value":["2015-08-31","1.4000289"]},{"value":["2015-09-30","1.4226443"]},{"value":["2015-10-31","1.5110708"]},{"value":["2015-11-30","1.5080634"]},{"value":["2015-12-31","1.5247318"]},{"value":["2016-01-31","1.4621827"]},{"value":["2016-02-29","1.4512160"]},{"value":["2016-03-31","1.6000403"]},{"value":["2016-04-30","1.5733250"]},{"value":["2016-05-31","1.6080550"]},{"value":["2016-06-30","1.7084479"]},{"value":["2016-07-31","1.7708639"]},{"value":["2016-08-31","1.7115585"]},{"value":["2016-09-30","1.6863523"]},{"value":["2016-10-31","1.6027040"]},{"value":["2016-11-30","1.5652713"]},{"value":["2016-12-31","1.6315454"]},{"value":["2017-01-31","1.6336657"]},{"value":["2017-02-28","1.7051283"]},{"value":["2017-03-31","1.6803524"]},{"value":["2017-04-30","1.6897722"]},{"value":["2017-05-31","1.6878458"]},{"value":["2017-06-30","1.7229526"]},{"value":["2017-07-31","1.7421763"]},{"value":["2017-08-31","1.7538393"]},{"value":["2017-09-30","1.7400706"]},{"value":["2017-10-31","1.7409424"]},{"value":["2017-11-30","1.7855987"]},{"value":["2017-12-31","1.7833981"]},{"value":["2018-01-31","1.7294623"]},{"value":["2018-02-28","1.6143261"]},{"value":["2018-03-31","1.6752174"]},{"value":["2018-04-30","1.6789908"]},{"value":["2018-05-31","1.7355930"]},{"value":["2018-06-30","1.8060489"]},{"value":["2018-07-31","1.8210659"]},{"value":["2018-08-31","1.8643232"]},{"value":["2018-09-30","1.8111266"]},{"value":["2018-10-31","1.7678965"]},{"value":["2018-11-30","1.8509613"]},{"value":["2018-12-31","1.7061739"]},{"value":["2019-01-31","1.9019715"]},{"value":["2019-02-28","1.9158597"]},{"value":["2019-03-31","1.9957688"]},{"value":["2019-04-30","1.9948517"]},{"value":["2019-05-31","1.9918706"]},{"value":["2019-06-30","2.0173481"]},{"value":["2019-07-31","2.0654080"]},{"value":["2019-08-31","2.1363420"]},{"value":["2019-09-30","2.1767193"]},{"value":["2019-10-31","2.1934743"]},{"value":["2019-11-30","2.1688075"]},{"value":["2019-12-31","2.1874065"]},{"value":["2020-01-31","2.2224215"]},{"value":["2020-02-29","2.0539245"]},{"value":["2020-03-31","1.6506898"]},{"value":["2020-04-30","1.8044406"]},{"value":["2020-05-31","1.8369467"]},{"value":["2020-06-30","1.8823492"]},{"value":["2020-07-31","1.9599743"]},{"value":["2020-08-31","1.9645118"]},{"value":["2020-09-30","1.9185152"]},{"value":["2020-10-31","1.8625267"]},{"value":["2020-11-30","2.0223228"]},{"value":["2020-12-31","2.0729496"]},{"value":["2021-01-31","2.0639944"]},{"value":["2021-02-28","2.1140936"]},{"value":["2021-03-31","2.2361628"]},{"value":["2021-04-30","2.4124971"]},{"value":["2021-05-31","2.4368192"]},{"value":["2021-06-30","2.4918525"]},{"value":["2021-07-31","2.6086964"]},{"value":["2021-08-31","2.6592961"]},{"value":["2021-09-30","2.5096607"]},{"value":["2021-10-31","2.6922660"]},{"value":["2021-11-30","2.6273124"]},{"value":["2021-12-31","2.8760970"]},{"value":["2022-01-31","2.6393527"]},{"value":["2022-02-28","2.5182566"]},{"value":["2022-03-31","2.6911250"]},{"value":["2022-04-30","2.5799688"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"us_real_estate","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.0000000"]},{"value":["2006-08-31","1.0229866"]},{"value":["2006-09-30","1.0461062"]},{"value":["2006-10-31","1.0830346"]},{"value":["2006-11-30","1.1082643"]},{"value":["2006-12-31","1.1215808"]},{"value":["2007-01-31","1.1424585"]},{"value":["2007-02-28","1.1239003"]},{"value":["2007-03-31","1.1364979"]},{"value":["2007-04-30","1.1822088"]},{"value":["2007-05-31","1.2262326"]},{"value":["2007-06-30","1.2046165"]},{"value":["2007-07-31","1.1620384"]},{"value":["2007-08-31","1.1791344"]},{"value":["2007-09-30","1.2244912"]},{"value":["2007-10-31","1.2464387"]},{"value":["2007-11-30","1.1900733"]},{"value":["2007-12-31","1.1818078"]},{"value":["2008-01-31","1.1089373"]},{"value":["2008-02-29","1.0812546"]},{"value":["2008-03-31","1.0715813"]},{"value":["2008-04-30","1.1239337"]},{"value":["2008-05-31","1.1465918"]},{"value":["2008-06-30","1.0534792"]},{"value":["2008-07-31","1.0469042"]},{"value":["2008-08-31","1.0621915"]},{"value":["2008-09-30","0.9640337"]},{"value":["2008-10-31","0.7955422"]},{"value":["2008-11-30","0.7317801"]},{"value":["2008-12-31","0.7447040"]},{"value":["2009-01-31","0.6847814"]},{"value":["2009-02-28","0.6127080"]},{"value":["2009-03-31","0.6633923"]},{"value":["2009-04-30","0.7363017"]},{"value":["2009-05-31","0.7765279"]},{"value":["2009-06-30","0.7793802"]},{"value":["2009-07-31","0.8396823"]},{"value":["2009-08-31","0.8708442"]},{"value":["2009-09-30","0.9068405"]},{"value":["2009-10-31","0.8829806"]},{"value":["2009-11-30","0.9332385"]},{"value":["2009-12-31","0.9599583"]},{"value":["2010-01-31","0.9257290"]},{"value":["2010-02-28","0.9575741"]},{"value":["2010-03-31","1.0188184"]},{"value":["2010-04-30","1.0410445"]},{"value":["2010-05-31","0.9589781"]},{"value":["2010-06-30","0.9029690"]},{"value":["2010-07-31","0.9663622"]},{"value":["2010-08-31","0.9208360"]},{"value":["2010-09-30","1.0079810"]},{"value":["2010-10-31","1.0485628"]},{"value":["2010-11-30","1.0539161"]},{"value":["2010-12-31","1.1272622"]},{"value":["2011-01-31","1.1503526"]},{"value":["2011-02-28","1.1928876"]},{"value":["2011-03-31","1.1978803"]},{"value":["2011-04-30","1.2325734"]},{"value":["2011-05-31","1.2194983"]},{"value":["2011-06-30","1.1975523"]},{"value":["2011-07-31","1.1704148"]},{"value":["2011-08-31","1.0991569"]},{"value":["2011-09-30","1.0159288"]},{"value":["2011-10-31","1.1313912"]},{"value":["2011-11-30","1.1271667"]},{"value":["2011-12-31","1.1381804"]},{"value":["2012-01-31","1.1958856"]},{"value":["2012-02-29","1.2463344"]},{"value":["2012-03-31","1.2845681"]},{"value":["2012-04-30","1.2763902"]},{"value":["2012-05-31","1.1969266"]},{"value":["2012-06-30","1.2453441"]},{"value":["2012-07-31","1.2562429"]},{"value":["2012-08-31","1.2901911"]},{"value":["2012-09-30","1.3223338"]},{"value":["2012-10-31","1.2984550"]},{"value":["2012-11-30","1.3085095"]},{"value":["2012-12-31","1.3254266"]},{"value":["2013-01-31","1.3972322"]},{"value":["2013-02-28","1.4151388"]},{"value":["2013-03-31","1.4710156"]},{"value":["2013-04-30","1.4946356"]},{"value":["2013-05-31","1.5311569"]},{"value":["2013-06-30","1.5091584"]},{"value":["2013-07-31","1.5958702"]},{"value":["2013-08-31","1.5474942"]},{"value":["2013-09-30","1.6078022"]},{"value":["2013-10-31","1.6764065"]},{"value":["2013-11-30","1.7217152"]},{"value":["2013-12-31","1.7687781"]},{"value":["2014-01-31","1.7127202"]},{"value":["2014-02-28","1.7960694"]},{"value":["2014-03-31","1.8052176"]},{"value":["2014-04-30","1.8063287"]},{"value":["2014-05-31","1.8442966"]},{"value":["2014-06-30","1.8926395"]},{"value":["2014-07-31","1.8548868"]},{"value":["2014-08-31","1.9318798"]},{"value":["2014-09-30","1.8913748"]},{"value":["2014-10-31","1.9433113"]},{"value":["2014-11-30","1.9915114"]},{"value":["2014-12-31","1.9907481"]},{"value":["2015-01-31","1.9362839"]},{"value":["2015-02-28","2.0474655"]},{"value":["2015-03-31","2.0236561"]},{"value":["2015-04-30","2.0361099"]},{"value":["2015-05-31","2.0625257"]},{"value":["2015-06-30","2.0279809"]},{"value":["2015-07-31","2.0624693"]},{"value":["2015-08-31","1.9368335"]},{"value":["2015-09-30","1.8802204"]},{"value":["2015-10-31","2.0289698"]},{"value":["2015-11-30","2.0411590"]},{"value":["2015-12-31","1.9978163"]},{"value":["2016-01-31","1.8834638"]},{"value":["2016-02-29","1.8832724"]},{"value":["2016-03-31","2.0171710"]},{"value":["2016-04-30","2.0304490"]},{"value":["2016-05-31","2.0656660"]},{"value":["2016-06-30","2.0713138"]},{"value":["2016-07-31","2.1536558"]},{"value":["2016-08-31","2.1581020"]},{"value":["2016-09-30","2.1623990"]},{"value":["2016-10-31","2.1150064"]},{"value":["2016-11-30","2.2099864"]},{"value":["2016-12-31","2.2538909"]},{"value":["2017-01-31","2.2957167"]},{"value":["2017-02-28","2.3805409"]},{"value":["2017-03-31","2.3818558"]},{"value":["2017-04-30","2.4071822"]},{"value":["2017-05-31","2.4315268"]},{"value":["2017-06-30","2.4545609"]},{"value":["2017-07-31","2.5007132"]},{"value":["2017-08-31","2.5044610"]},{"value":["2017-09-30","2.5655711"]},{"value":["2017-10-31","2.6212330"]},{"value":["2017-11-30","2.7006639"]},{"value":["2017-12-31","2.7320198"]},{"value":["2018-01-31","2.8749402"]},{"value":["2018-02-28","2.7668540"]},{"value":["2018-03-31","2.7125357"]},{"value":["2018-04-30","2.7247276"]},{"value":["2018-05-31","2.7988768"]},{"value":["2018-06-30","2.8185698"]},{"value":["2018-07-31","2.9121000"]},{"value":["2018-08-31","3.0120536"]},{"value":["2018-09-30","3.0179601"]},{"value":["2018-10-31","2.7943107"]},{"value":["2018-11-30","2.8505763"]},{"value":["2018-12-31","2.5890038"]},{"value":["2019-01-31","2.8101125"]},{"value":["2019-02-28","2.9101189"]},{"value":["2019-03-31","2.9513462"]},{"value":["2019-04-30","3.0671890"]},{"value":["2019-05-31","2.8693591"]},{"value":["2019-06-30","3.0724548"]},{"value":["2019-07-31","3.1158530"]},{"value":["2019-08-31","3.0509607"]},{"value":["2019-09-30","3.1052466"]},{"value":["2019-10-31","3.1706419"]},{"value":["2019-11-30","3.2907395"]},{"value":["2019-12-31","3.3830154"]},{"value":["2020-01-31","3.3809476"]},{"value":["2020-02-29","3.1105053"]},{"value":["2020-03-31","2.6785898"]},{"value":["2020-04-30","3.0303742"]},{"value":["2020-05-31","3.1939029"]},{"value":["2020-06-30","3.2673045"]},{"value":["2020-07-31","3.4549555"]},{"value":["2020-08-31","3.7004260"]},{"value":["2020-09-30","3.5695207"]},{"value":["2020-10-31","3.4999372"]},{"value":["2020-11-30","3.9130382"]},{"value":["2020-12-31","4.0960246"]},{"value":["2021-01-31","4.0823461"]},{"value":["2021-02-28","4.2105048"]},{"value":["2021-03-31","4.3641008"]},{"value":["2021-04-30","4.5839001"]},{"value":["2021-05-31","4.6048028"]},{"value":["2021-06-30","4.7190935"]},{"value":["2021-07-31","4.8010561"]},{"value":["2021-08-31","4.9382955"]},{"value":["2021-09-30","4.7178422"]},{"value":["2021-10-31","5.0333429"]},{"value":["2021-11-30","4.9598317"]},{"value":["2021-12-31","5.1479603"]},{"value":["2022-01-31","4.8360205"]},{"value":["2022-02-28","4.7157649"]},{"value":["2022-03-31","4.8694963"]},{"value":["2022-04-30","4.4248317"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"us_stocks","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1}],"tooltip":{"trigger":"axis","backgroundColor":"white"},"grid":[{"right":"15%","top":"20%"}],"title":[{"left":"center","top":"5%","text":"Growth of select ETFs"}],"dataZoom":[{"type":"slider","start":0,"end":100}],"toolbox":{"feature":{"dataZoom":{"selector":{"start":"20","end":"80"}},"reset":[],"dataView":[],"saveAsImage":[]}}},"dispose":true},"evals":[],"jsHooks":[]}</script>
<p>Over the period, there were notable performance divergences:
- Commodities had disappointing performance continuously losing
value over the period, starting at 1 and slowly declining to about 0.5.
- Emerging markets had unstable growth, with an index starting at a value of 1
and eventually reaching a value of about 1.8.
- Global stocks also had unstable growth, with an index starting at a value
of 1 and reaching a value of about 1.6.
- The Treasury note portfolio had stable growth, starting at a value of 1 and ending
at a value of about 1.85, outperforming commodities, emerging markets, and global stocks.
- U.S. bonds also experienced modest, stable growth starting with an index value
of 1 and reaching a value of about 1.68, slightly underperforming the Treasury
note ETF.
- U.S. real estate experienced high volatility at the beginning and end of the
period, but overall grew from a value of 1 to a value of about 2.6, outperforming
all previously mentioned asset classes.
- U.S. stocks experienced a mostly stable growth, with the index starting at a
value of 1 to a value of about 4.42. There was modest volatility during the period.</p>
<p>Based solely on total return, it would have been better to have invested all one’s
money in the U.S. stock market over the period. Of course, this could not have
been known prior to the period, so investors often make more diversified
portfolios in order to spread out their risks.</p>
<div id="return-profiles" class="section level2">
<h2>Return Profiles</h2>
<pre class="r"><code>returns %&gt;% 
      ggplot(aes(x = ticker, y = return, color = ticker)) +
      geom_violin() +
      geom_jitter(width = 0.15, alpha = 0.8) +
      scale_y_continuous(labels = scales::percent) +
      theme_minimal() +
      labs(title = &quot;Distribution of returns for various ETFs&quot;,
           subtitle = paste(&quot;For the &quot;, time_period %/% 365, &quot;years ended &quot;, 
                            format(as.Date(end_date), &quot;%B %Y&quot;)),
           x = &quot;&quot;, y = &quot;&quot;) +
      theme(legend.position = &quot;none&quot;,
            plot.title = element_text(face = &quot;bold&quot;, size = 13),
            plot.title.position = &quot;plot&quot;)</code></pre>
<p><img src="index.en_files/figure-html/return_profiles-1.png" width="672" /></p>
<p>Commodities, Emerging markets, global stocks, U.S. real estate, and U.S. stocks
experienced about the same volatility during the period. U.S. Treasury returns
and U.S. bonds experienced low volatility of returns over the period.</p>
<pre class="r"><code>up_days &lt;-
      returns_xts %&gt;% 
      as_tibble() %&gt;% 
      {. &gt; 0} %&gt;% 
      colSums()

down_days &lt;-
      returns_xts %&gt;% 
      as_tibble() %&gt;% 
      {. &lt; 0} %&gt;% 
      colSums()

perc_up_days &lt;- 
      {up_days / (up_days + down_days)} %&gt;% 
      tibble(ticker = names(.), perc_up = round(., 2)) %&gt;% 
      arrange(desc(perc_up))

perc_up_days</code></pre>
<pre><code>## # A tibble: 7 x 3
##       . ticker           perc_up
##   &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt;
## 1 0.677 us_stocks           0.68
## 2 0.619 us_real_estate      0.62
## 3 0.596 us_bonds            0.6 
## 4 0.582 global_stocks       0.58
## 5 0.540 commodities         0.54
## 6 0.540 treasury_notes      0.54
## 7 0.519 emerging_markets    0.52</code></pre>
</div>
<div id="gains-vs.-losses" class="section level2">
<h2>Gains vs. Losses</h2>
<p>It turns out that U.S. stocks, U.S. real estate, and U.S. bonds had positive return
months at least 60% of the time over the period.</p>
</div>
<div id="correlations" class="section level2">
<h2>Correlations</h2>
<pre class="r"><code>corr &lt;- returns_xts %&gt;% cor() %&gt;% round(2)
      
ggcorrplot::ggcorrplot(
      corr,
      outline.col = &quot;white&quot;,
      type = &quot;lower&quot;,
      hc.order = TRUE,
      lab = TRUE
) +
      labs(title = &quot;Correlations between ETF returns&quot;,
           subtitle = &quot;Which ETFs tended to move together?&quot;) +
      theme(plot.title = element_text(face = &quot;bold&quot;, size = 13),
            plot.title.position = &quot;plot&quot;)</code></pre>
<p><img src="index.en_files/figure-html/correlations-1.png" width="672" /></p>
<p>Over the period, there were several notable return patterns:
- Commodity returns were moderately correlated with emerging market stocks,
global stocks, and U.S. stocks
- Emerging market returns were strongly correlated with global stocks
and U.S. stocks
- Global stocks were highly correlated with U.S. stocks
- Treasury returns were highly correlated with U.S. bonds
- Treasury returns were moderately negatively correlated with commodities
and U.S. stocks indicating there are potential diversification benefits from
including Treausury ETFs in the portfolio containing stocks</p>
</div>
<div id="weights" class="section level2">
<h2>Weights</h2>
<p>One decision one has to make is how much of each asset to add to the portfolio.
There are many ways to do this and one popular way is to use mean-variance
optimization to determine which portfolio (out of a set of portfolios with
with varying asset weights) achieved the highest return for each unit of risk.
Here, risk is measured as the standard deviation of such returns.</p>
</div>
<div id="set-benchmark" class="section level2">
<h2>Set Benchmark</h2>
<p>We will assume that investing equally in all assets is a reasonable benchmark
for this analysis.</p>
<pre class="r"><code>equal_wts &lt;- rep(1/length(tickers), length(tickers))

wts_list &lt;- list()
length(wts_list) &lt;- length(tickers)
wts_grid &lt;- map(wts_list, ~seq(0, 1, 0.1))

weights_grid &lt;- tibble(expand.grid(
      wts_grid
      )) %&gt;% 
      filter(rowSums(.) == 1)

n_portfolios &lt;- nrow(weights_grid)

weights &lt;- weights_grid %&gt;% transpose() %&gt;% unlist(use.names = FALSE)

ticker_returns_grid &lt;-
      returns %&gt;% 
      select(date, ticker, return) %&gt;% 
      tq_repeat_df(n = n_portfolios)

weights_table &lt;-
      tibble(tickers) %&gt;%
      tq_repeat_df(n = n_portfolios) %&gt;%
      bind_cols(tibble(weights)) %&gt;%
      full_join(tibble(
            portfolio = 0,
            tickers = tickers,
            weights = equal_wts
      )) %&gt;%
      rename(ticker =  tickers, weight = weights)

wts_plot &lt;- 
      weights_table %&gt;%
            filter(portfolio %in% seq(0, 7500, by = 250)) %&gt;%
            ggplot(aes(x = portfolio, y = weight, fill = ticker)) +
            geom_col(alpha = 0.8) +
            scale_y_continuous(labels = scales::percent, breaks = seq(0, 1, by = .1)) +
            theme_minimal() +
            labs(
                  title = &quot;Weights for portfolio assets&quot;,
                  subtitle = &quot;What are the possible ways to combine assets in a portfolio&quot;,
                  x = &quot;portfolio #&quot;,
                  y = &quot;&quot;,
                  fill = &quot;Ticker&quot;
            ) +
            theme(plot.title = element_text(face = &quot;bold&quot;, size = 13),
                  plot.title.position = &quot;plot&quot;)

plotly::ggplotly(wts_plot)</code></pre>
<div id="htmlwidget-9c1ffeced5075bcaf2c4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9c1ffeced5075bcaf2c4">{"x":{"data":[{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0.9,0.9,1,0.6,0.8,0.8,1,0.9,0.8,1,1,1,1,0.9,0.8,1,1,0.9,1,0.9,1,1,0.8,1,1,1,0.9,1,0.8,1,0.857142857142857],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0.1,0.1,0,0.4,0.2,0.2,0,0.0999999999999999,0.2,0,0,0,0,0.0999999999999999,0.2,0,0,0.0999999999999999,0,0.1,0,0,0.2,0,0,0,0.1,0,0.2,0,0.142857142857143],"text":["portfolio:  250<br />weight: 0.1000000<br />ticker: commodities","portfolio:  500<br />weight: 0.1000000<br />ticker: commodities","portfolio:  750<br />weight: 0.0000000<br />ticker: commodities","portfolio: 1000<br />weight: 0.4000000<br />ticker: commodities","portfolio: 1250<br />weight: 0.2000000<br />ticker: commodities","portfolio: 1500<br />weight: 0.2000000<br />ticker: commodities","portfolio: 1750<br />weight: 0.0000000<br />ticker: commodities","portfolio: 2000<br />weight: 0.1000000<br />ticker: commodities","portfolio: 2250<br />weight: 0.2000000<br />ticker: commodities","portfolio: 2500<br />weight: 0.0000000<br />ticker: commodities","portfolio: 2750<br />weight: 0.0000000<br />ticker: commodities","portfolio: 3000<br />weight: 0.0000000<br />ticker: commodities","portfolio: 3250<br />weight: 0.0000000<br />ticker: commodities","portfolio: 3500<br />weight: 0.1000000<br />ticker: commodities","portfolio: 3750<br />weight: 0.2000000<br />ticker: commodities","portfolio: 4000<br />weight: 0.0000000<br />ticker: commodities","portfolio: 4250<br />weight: 0.0000000<br />ticker: commodities","portfolio: 4500<br />weight: 0.1000000<br />ticker: commodities","portfolio: 4750<br />weight: 0.0000000<br />ticker: commodities","portfolio: 5000<br />weight: 0.1000000<br />ticker: commodities","portfolio: 5250<br />weight: 0.0000000<br />ticker: commodities","portfolio: 5500<br />weight: 0.0000000<br />ticker: commodities","portfolio: 5750<br />weight: 0.2000000<br />ticker: commodities","portfolio: 6000<br />weight: 0.0000000<br />ticker: commodities","portfolio: 6250<br />weight: 0.0000000<br />ticker: commodities","portfolio: 6500<br />weight: 0.0000000<br />ticker: commodities","portfolio: 6750<br />weight: 0.1000000<br />ticker: commodities","portfolio: 7000<br />weight: 0.0000000<br />ticker: commodities","portfolio: 7250<br />weight: 0.2000000<br />ticker: commodities","portfolio: 7500<br />weight: 0.0000000<br />ticker: commodities","portfolio:    0<br />weight: 0.1428571<br />ticker: commodities"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"commodities","legendgroup":"commodities","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0.8,0.7,0.9,0.6,0.8,0.8,0.9,0.6,0.8,0.9,0.8,0.6,0.7,0.9,0.7,0.9,0.8,0.7,1,0.8,0.9,0.6,0.8,1,0.8,0.8,0.8,0.6,0.6,1,0.714285714285714],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0.1,0.2,0.1,0,0,0,0.0999999999999999,0.3,0,0.0999999999999999,0.2,0.4,0.3,0,0.1,0.0999999999999999,0.2,0.2,0,0.1,0.1,0.4,0,0,0.2,0.2,0.1,0.4,0.2,0,0.142857142857143],"text":["portfolio:  250<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio:  500<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio:  750<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 1000<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 1250<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 1500<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 1750<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 2000<br />weight: 0.3000000<br />ticker: emerging_markets","portfolio: 2250<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 2500<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 2750<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio: 3000<br />weight: 0.4000000<br />ticker: emerging_markets","portfolio: 3250<br />weight: 0.3000000<br />ticker: emerging_markets","portfolio: 3500<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 3750<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 4000<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 4250<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio: 4500<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio: 4750<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 5000<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 5250<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 5500<br />weight: 0.4000000<br />ticker: emerging_markets","portfolio: 5750<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 6000<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio: 6250<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio: 6500<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio: 6750<br />weight: 0.1000000<br />ticker: emerging_markets","portfolio: 7000<br />weight: 0.4000000<br />ticker: emerging_markets","portfolio: 7250<br />weight: 0.2000000<br />ticker: emerging_markets","portfolio: 7500<br />weight: 0.0000000<br />ticker: emerging_markets","portfolio:    0<br />weight: 0.1428571<br />ticker: emerging_markets"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,154,0,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"emerging_markets","legendgroup":"emerging_markets","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0.8,0.2,0.4,0.2,0.5,0.5,0.6,0.6,0.6,0.6,0.8,0.6,0.4,0.9,0.5,0.9,0.7,0.7,1,0.4,0.8,0.6,0.6,0.9,0.5,0.8,0.8,0.6,0.6,0.8,0.571428571428571],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0,0.5,0.5,0.4,0.3,0.3,0.3,0,0.2,0.3,0,0,0.3,0,0.2,0,0.1,0,0,0.4,0.1,0,0.2,0.1,0.3,0,0,0,0,0.2,0.142857142857143],"text":["portfolio:  250<br />weight: 0.0000000<br />ticker: global_stocks","portfolio:  500<br />weight: 0.5000000<br />ticker: global_stocks","portfolio:  750<br />weight: 0.5000000<br />ticker: global_stocks","portfolio: 1000<br />weight: 0.4000000<br />ticker: global_stocks","portfolio: 1250<br />weight: 0.3000000<br />ticker: global_stocks","portfolio: 1500<br />weight: 0.3000000<br />ticker: global_stocks","portfolio: 1750<br />weight: 0.3000000<br />ticker: global_stocks","portfolio: 2000<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 2250<br />weight: 0.2000000<br />ticker: global_stocks","portfolio: 2500<br />weight: 0.3000000<br />ticker: global_stocks","portfolio: 2750<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 3000<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 3250<br />weight: 0.3000000<br />ticker: global_stocks","portfolio: 3500<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 3750<br />weight: 0.2000000<br />ticker: global_stocks","portfolio: 4000<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 4250<br />weight: 0.1000000<br />ticker: global_stocks","portfolio: 4500<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 4750<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 5000<br />weight: 0.4000000<br />ticker: global_stocks","portfolio: 5250<br />weight: 0.1000000<br />ticker: global_stocks","portfolio: 5500<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 5750<br />weight: 0.2000000<br />ticker: global_stocks","portfolio: 6000<br />weight: 0.1000000<br />ticker: global_stocks","portfolio: 6250<br />weight: 0.3000000<br />ticker: global_stocks","portfolio: 6500<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 6750<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 7000<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 7250<br />weight: 0.0000000<br />ticker: global_stocks","portfolio: 7500<br />weight: 0.2000000<br />ticker: global_stocks","portfolio:    0<br />weight: 0.1428571<br />ticker: global_stocks"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(83,180,0,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"global_stocks","legendgroup":"global_stocks","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0,0.2,0.4,0.1,0.2,0.5,0.2,0.5,0.4,0.5,0.7,0.1,0.3,0.8,0.3,0.9,0.5,0.7,0.8,0.3,0.7,0.5,0.6,0.8,0.5,0.6,0.8,0.5,0.5,0.6,0.428571428571429],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0.8,0,0,0.1,0.3,0,0.4,0.1,0.2,0.1,0.1,0.5,0.1,0.1,0.2,0,0.2,0,0.2,0.1,0.1,0.1,0,0.1,0,0.2,0,0.1,0.1,0.2,0.142857142857143],"text":["portfolio:  250<br />weight: 0.8000000<br />ticker: treasury_notes","portfolio:  500<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio:  750<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 1000<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 1250<br />weight: 0.3000000<br />ticker: treasury_notes","portfolio: 1500<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 1750<br />weight: 0.4000000<br />ticker: treasury_notes","portfolio: 2000<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 2250<br />weight: 0.2000000<br />ticker: treasury_notes","portfolio: 2500<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 2750<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 3000<br />weight: 0.5000000<br />ticker: treasury_notes","portfolio: 3250<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 3500<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 3750<br />weight: 0.2000000<br />ticker: treasury_notes","portfolio: 4000<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 4250<br />weight: 0.2000000<br />ticker: treasury_notes","portfolio: 4500<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 4750<br />weight: 0.2000000<br />ticker: treasury_notes","portfolio: 5000<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 5250<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 5500<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 5750<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 6000<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 6250<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 6500<br />weight: 0.2000000<br />ticker: treasury_notes","portfolio: 6750<br />weight: 0.0000000<br />ticker: treasury_notes","portfolio: 7000<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 7250<br />weight: 0.1000000<br />ticker: treasury_notes","portfolio: 7500<br />weight: 0.2000000<br />ticker: treasury_notes","portfolio:    0<br />weight: 0.1428571<br />ticker: treasury_notes"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,148,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"treasury_notes","legendgroup":"treasury_notes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0,0,0,0.1,0.1,0.1,0.2,0.2,0.3,0.4,0.6,0.1,0.1,0.1,0.2,0.2,0.3,0.4,0.7,0.2,0.2,0.3,0.4,0.6,0.3,0.4,0.8,0.5,0.5,0.6,0.285714285714286],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0,0.2,0.4,0,0.1,0.4,0,0.3,0.1,0.1,0.1,0,0.2,0.7,0.1,0.7,0.2,0.3,0.1,0.1,0.5,0.2,0.2,0.2,0.2,0.2,0,0,0,0,0.142857142857143],"text":["portfolio:  250<br />weight: 0.0000000<br />ticker: us_bonds","portfolio:  500<br />weight: 0.2000000<br />ticker: us_bonds","portfolio:  750<br />weight: 0.4000000<br />ticker: us_bonds","portfolio: 1000<br />weight: 0.0000000<br />ticker: us_bonds","portfolio: 1250<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 1500<br />weight: 0.4000000<br />ticker: us_bonds","portfolio: 1750<br />weight: 0.0000000<br />ticker: us_bonds","portfolio: 2000<br />weight: 0.3000000<br />ticker: us_bonds","portfolio: 2250<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 2500<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 2750<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 3000<br />weight: 0.0000000<br />ticker: us_bonds","portfolio: 3250<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 3500<br />weight: 0.7000000<br />ticker: us_bonds","portfolio: 3750<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 4000<br />weight: 0.7000000<br />ticker: us_bonds","portfolio: 4250<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 4500<br />weight: 0.3000000<br />ticker: us_bonds","portfolio: 4750<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 5000<br />weight: 0.1000000<br />ticker: us_bonds","portfolio: 5250<br />weight: 0.5000000<br />ticker: us_bonds","portfolio: 5500<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 5750<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 6000<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 6250<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 6500<br />weight: 0.2000000<br />ticker: us_bonds","portfolio: 6750<br />weight: 0.0000000<br />ticker: us_bonds","portfolio: 7000<br />weight: 0.0000000<br />ticker: us_bonds","portfolio: 7250<br />weight: 0.0000000<br />ticker: us_bonds","portfolio: 7500<br />weight: 0.0000000<br />ticker: us_bonds","portfolio:    0<br />weight: 0.1428571<br />ticker: us_bonds"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,182,235,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"us_bonds","legendgroup":"us_bonds","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0,0,0,0,0,0,0,0,0,0,0,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.2,0.3,0.3,0.3,0.4,0.5,0.6,0.142857142857143],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0,0,0,0.1,0.1,0.1,0.2,0.2,0.3,0.4,0.6,0,0,0,0.1,0.1,0.2,0.3,0.6,0,0,0.1,0.2,0.4,0,0.1,0.5,0.1,0,0,0.142857142857143],"text":["portfolio:  250<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio:  500<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio:  750<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 1000<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 1250<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 1500<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 1750<br />weight: 0.2000000<br />ticker: us_real_estate","portfolio: 2000<br />weight: 0.2000000<br />ticker: us_real_estate","portfolio: 2250<br />weight: 0.3000000<br />ticker: us_real_estate","portfolio: 2500<br />weight: 0.4000000<br />ticker: us_real_estate","portfolio: 2750<br />weight: 0.6000000<br />ticker: us_real_estate","portfolio: 3000<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 3250<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 3500<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 3750<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 4000<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 4250<br />weight: 0.2000000<br />ticker: us_real_estate","portfolio: 4500<br />weight: 0.3000000<br />ticker: us_real_estate","portfolio: 4750<br />weight: 0.6000000<br />ticker: us_real_estate","portfolio: 5000<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 5250<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 5500<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 5750<br />weight: 0.2000000<br />ticker: us_real_estate","portfolio: 6000<br />weight: 0.4000000<br />ticker: us_real_estate","portfolio: 6250<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 6500<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 6750<br />weight: 0.5000000<br />ticker: us_real_estate","portfolio: 7000<br />weight: 0.1000000<br />ticker: us_real_estate","portfolio: 7250<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio: 7500<br />weight: 0.0000000<br />ticker: us_real_estate","portfolio:    0<br />weight: 0.1428571<br />ticker: us_real_estate"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,138,255,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"us_real_estate","legendgroup":"us_real_estate","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[250,500,750,1000,1250,1500,1750,2000,2250,2500,2750,3000,3250,3500,3750,4000,4250,4500,4750,5000,5250,5500,5750,6000,6250,6500,6750,7000,7250,7500,0],"y":[0,0,0,0,0,0,0,0,0,0,0,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.2,0.3,0.3,0.3,0.4,0.5,0.6,0.142857142857143],"text":["portfolio:  250<br />weight: 0.0000000<br />ticker: us_stocks","portfolio:  500<br />weight: 0.0000000<br />ticker: us_stocks","portfolio:  750<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 1000<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 1250<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 1500<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 1750<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 2000<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 2250<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 2500<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 2750<br />weight: 0.0000000<br />ticker: us_stocks","portfolio: 3000<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 3250<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 3500<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 3750<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 4000<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 4250<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 4500<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 4750<br />weight: 0.1000000<br />ticker: us_stocks","portfolio: 5000<br />weight: 0.2000000<br />ticker: us_stocks","portfolio: 5250<br />weight: 0.2000000<br />ticker: us_stocks","portfolio: 5500<br />weight: 0.2000000<br />ticker: us_stocks","portfolio: 5750<br />weight: 0.2000000<br />ticker: us_stocks","portfolio: 6000<br />weight: 0.2000000<br />ticker: us_stocks","portfolio: 6250<br />weight: 0.3000000<br />ticker: us_stocks","portfolio: 6500<br />weight: 0.3000000<br />ticker: us_stocks","portfolio: 6750<br />weight: 0.3000000<br />ticker: us_stocks","portfolio: 7000<br />weight: 0.4000000<br />ticker: us_stocks","portfolio: 7250<br />weight: 0.5000000<br />ticker: us_stocks","portfolio: 7500<br />weight: 0.6000000<br />ticker: us_stocks","portfolio:    0<br />weight: 0.1428571<br />ticker: us_stocks"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,97,215,0.8)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"us_stocks","legendgroup":"us_stocks","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.4968866749689,"r":7.30593607305936,"b":40.1826484018265,"l":34.337899543379},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"<b> Weights for portfolio assets <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":17.2685761726858},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-498.75,7998.75],"tickmode":"array","ticktext":["0","2000","4000","6000"],"tickvals":[-5.6843418860808e-14,2000,4000,6000],"categoryorder":"array","categoryarray":["0","2000","4000","6000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"portfolio #","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],"tickvals":[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1],"categoryorder":"array","categoryarray":["0%","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Ticker","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"6b83d4f6f33":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"6b83d4f6f33","visdat":{"6b83d4f6f33":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>There happen to be thousands of possible portfolio constructions. So,
which one yielded the best performance over the …</p>
</div>
<div id="performance-stats" class="section level2">
<h2>Performance stats</h2>
<pre class="r"><code># Get portfolio returns
# port_returns_grid &lt;- 
#   ticker_returns_grid %&gt;% 
#   left_join(weights_table) %&gt;% 
#   mutate(wtd_rtn = weight * return) %&gt;% 
#   group_by(portfolio, date) %&gt;% 
#   summarize(port_return = sum(wtd_rtn))

# write_feather(port_returns_grid, &quot;static/data/port_returns_grid&quot;)
port_returns_grid &lt;- read_feather(here(&quot;static&quot;, &quot;data&quot;, &quot;port_returns_grid&quot;)) %&gt;% ungroup()


bm_returns &lt;-
  returns %&gt;%
  left_join(tibble(weight = equal_wts, ticker = tickers)) %&gt;% 
  select(date, ticker, return, weight) %&gt;% 
  mutate(wtd_rtn = weight * return) %&gt;% 
  group_by(date) %&gt;% 
  summarize(bm_return = sum(wtd_rtn)) 

bm_returns_xts &lt;- 
  bm_returns %&gt;%
  xts(x = .$bm_return, order.by = .$date) %&gt;% 
  setNames(&quot;bm_return&quot;)

risk_free &lt;- 
      rf_monthly %&gt;% 
      filter(date &gt;= start_date, date &lt;= end_date) %&gt;% 
      select(date, risk_free = monthly_rate)

risk_free_xts &lt;-
      risk_free %&gt;% 
      xts(x = .$risk_free, order.by = .$date) %&gt;% 
      setNames(&quot;risk_free&quot;)

cleaned_returns_list &lt;-
      port_returns_grid %&gt;%
      filter(portfolio != 0) %&gt;%
      split(., .$portfolio)

cleaned_returns_list_xts &lt;-
      cleaned_returns_list %&gt;% 
      map(~xts(.x$port_return, order.by = .x$date))

# returns_xts &lt;- reduce(cleaned_returns_list_xts, merge)
# saveRDS(returns_xts, &quot;static/data/returns_xts.rds&quot;)
returns_xts &lt;- readRDS(here(&quot;static&quot;, &quot;data&quot;, &quot;returns_xts.rds&quot;))</code></pre>
<pre class="r"><code># Slow
# capm_stats &lt;- table.CAPM(Ra = returns_xts, Rb = bm_returns_xts, Rf = risk_free_xts) 

# capm_stats_cleaned &lt;- 
#   capm_stats %&gt;% 
#   rownames_to_column(var = &quot;measure&quot;) %&gt;%
#   as_tibble() %&gt;%
#   set_names(c(&quot;measure&quot;, paste0(&quot;port_&quot;, seq_along(.)[-ncol(.)])))

# saveRDS(capm_stats_cleaned, &quot;static/data/capm_stats.rds&quot;)
capm_stats &lt;- readRDS(here(&quot;static&quot;, &quot;data&quot;, &quot;capm_stats.rds&quot;))
      


# port_performance &lt;- table.Stats(R = returns_xts)
#       
# port_performance_cleaned &lt;-
#   port_performance %&gt;%
#   rownames_to_column(var = &quot;measure&quot;) %&gt;%
#   as_tibble() %&gt;%
#   set_names(c(&quot;measure&quot;, paste0(&quot;port_&quot;, seq_along(.)[-ncol(.)])))

# saveRDS(port_performance_cleaned, &quot;static/data/port_performance.rds&quot;)
port_performance &lt;- readRDS(here(&quot;static&quot;, &quot;data&quot;, &quot;port_performance.rds&quot;))


port_performance %&gt;% 
  distinct(measure)</code></pre>
<pre><code>## # A tibble: 16 x 1
##    measure        
##    &lt;chr&gt;          
##  1 Observations   
##  2 NAs            
##  3 Minimum        
##  4 Quartile 1     
##  5 Median         
##  6 Arithmetic Mean
##  7 Geometric Mean 
##  8 Quartile 3     
##  9 Maximum        
## 10 SE Mean        
## 11 LCL Mean (0.95)
## 12 UCL Mean (0.95)
## 13 Variance       
## 14 Stdev          
## 15 Skewness       
## 16 Kurtosis</code></pre>
<pre class="r"><code>port_performance &lt;-
  port_performance %&gt;%
  pivot_longer(-measure) %&gt;% 
  filter(measure %in% c(&quot;Geometric Mean&quot;, &quot;Stdev&quot;, &quot;Skewness&quot;)) %&gt;% 
  pivot_wider(names_from = &quot;measure&quot;) %&gt;% 
  janitor::clean_names() %&gt;% 
  rename(portfolio = name) %&gt;% 
  mutate(portfolio = as.numeric(str_extract(portfolio, &quot;\\d+&quot;))) %&gt;% 
  mutate(annual_return = geometric_mean * 12) %&gt;%
  mutate(annual_stdev = stdev*sqrt(12)) %&gt;%
  mutate(sharpe_ratio = ((annual_return - 0.03) / annual_stdev))</code></pre>
</div>
</div>
<div id="portfolios-with-highest-returns" class="section level1">
<h1>Portfolios with Highest Returns</h1>
<p>What portfolios experienced the highest returns over the period?</p>
<pre class="r"><code>best_return &lt;-
  port_performance %&gt;%
  arrange(desc(annual_return),
          desc(sharpe_ratio),
          stdev,
          desc(skewness)) %&gt;%
  select(portfolio, sharpe_ratio, geometric_mean, skewness) %&gt;%
  slice(1:10) %&gt;%
  pull(portfolio)

weights_table %&gt;%
  filter(portfolio %in% best_return) %&gt;%
  ggplot(aes(x = ticker, y = weight, fill = ticker)) +
  geom_col() +
  geom_text(aes(label = scales::percent_format()(weight)),
            nudge_y = 0.07,
            color = &quot;darkgray&quot;) +
  scale_y_continuous(labels = scales::percent) +
  facet_wrap(. ~ paste(&quot;Portfolio: &quot;, portfolio)) +
  labs(
    x = &quot;&quot;,
    y = &quot;&quot;,
    title = &quot;Portfolio Weights&quot;,
    subtitle = &quot;Weights for portfolios with best returns&quot;,
    fill = &quot;Asset&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    plot.title = element_text(face = &quot;bold&quot;, size = 13),
    legend.background = element_rect(
      fill = &quot;white&quot;,
      size = 4,
      colour = &quot;white&quot;
    ),
    axis.ticks = element_blank(),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    plot.title.position = &quot;plot&quot;,
    axis.text.x = element_blank()
  )</code></pre>
<p><img src="index.en_files/figure-html/best_return-1.png" width="672" /></p>
<p>It’s no surprise that the top 10 portfolios based on total return were comprised
almost entirely of U.S. stocks which significantly outperformed the other asset
classes over the investment period.</p>
<pre class="r"><code>best_sharpe &lt;-
  port_performance %&gt;% 
  arrange(desc(sharpe_ratio),
          desc(geometric_mean),
          stdev,
          desc(skewness)) %&gt;%
  select(portfolio, sharpe_ratio, geometric_mean, skewness) %&gt;%
  slice(1:10) %&gt;%
  pull(portfolio)


weights_table %&gt;%
  filter(portfolio %in% best_sharpe) %&gt;%
  ggplot(aes(x = ticker, y = weight, fill = ticker)) +
  geom_col() +
  geom_text(aes(label = scales::percent_format()(weight)),
            nudge_y = 0.07,
            color = &quot;darkgray&quot;) +
  scale_y_continuous(labels = scales::percent) +
  facet_wrap(. ~ paste(&quot;Portfolio: &quot;, portfolio)) +
  labs(
    x = &quot;&quot;,
    y = &quot;&quot;,
    title = &quot;Best risk-adjusted returns&quot;,
    subtitle = &quot;Weights for portfolios with best sharpe_ratios (best return for each unit of risk)&quot;,
    fill = &quot;Ticker&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    plot.title = element_text(face = &quot;bold&quot;, size = 13),
    legend.background = element_rect(
      fill = &quot;white&quot;,
      size = 4,
      colour = &quot;white&quot;
    ),
    axis.ticks = element_blank(),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    plot.title.position = &quot;plot&quot;,
    axis.text.x = element_blank()
  )</code></pre>
<p><img src="index.en_files/figure-html/best_sharpe_ratio-1.png" width="672" /></p>
<pre class="r"><code># tq_performance_fun_options()</code></pre>
<p>????? Update —— It turns out that even when adjusting for “risk,” the top performing portfolios
were also comprised almost entirely of U.S. stocks.</p>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>Over the last 15 years and
9 months it would have been generally
better to invest almost all of one’s cash into the overall U.S. stock market.</p>
</div>
<div id="limitations" class="section level1">
<h1>Limitations</h1>
<p>This analysis spans a relatively small time period. It is not a good idea to
make future investment decisions based on research using such short data spans.
One approach to the data limitation problem is to run the analysis on indexes
(not ETFs) with longer data histories and then utilize ETFs as proxies to
represent the uninvestible indexes. This may be appropriate if the ETFs closely
track the indexes they are purported to track.</p>
</div>

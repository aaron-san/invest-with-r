---
title: Building a Balanced Portfolio
author: Aaron Hardy
date: '2022-05-30'
slug: building-a-balanced-portfolio
categories:
  - Portfolio
tags: []
subtitle: ''
summary: ''
authors: []
# lastmod: "2022-05-30 16:48:41"

featured: ''
featuredalt: ''
featuredpath: ''
linktitle: ''
projects: []
editor_options: 
  chunk_output_type: console
output:
      blogdown::html_page:
            # highlight: tango
            toc: true
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>
<script src="{{< blogdown/postref >}}index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index_files/echarts4r/echarts-en.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/echarts4r/ecStat.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/echarts4r/dataTool.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/echarts4r-binding/echarts4r.js"></script>
<script src="{{< blogdown/postref >}}index_files/shine/shine.js"></script>

<div id="TOC">
<ul>
<li><a href="#clean-the-data">Clean the Data</a></li>
<li><a href="#asset-performance">Asset Performance</a>
<ul>
<li><a href="#weights">Weights</a></li>
<li><a href="#set-benchmark">Set Benchmark</a></li>
<li><a href="#performance-stats">Performance stats</a></li>
</ul></li>
<li><a href="#portfolios-with-highest-returns">Portfolios with Highest Returns</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#limitations">Limitations</a></li>
</ul>
</div>

<p>Building a balanced portfolio is not as easy as it might seem.</p>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(tidyquant, quietly = TRUE)
library(echarts4r)
library(arrow)
library(here)

filter &lt;- dplyr::filter
lag &lt;- dplyr::lag

file_prices &lt;- list.files(here(&quot;static&quot;, &quot;data&quot;),
           pattern = &quot;ETF prices&quot;, full.names = TRUE) %&gt;% max()

prices &lt;- read_csv(file_prices, col_types = cols()) %&gt;% 
      select(ticker, date, adjusted)

# GSG: Commodities
# AGG: U.S. total bond market
# VWO: Emerging markets equities, large-cap
# VTI: All U.S. stocks
# EFA: International equities  (ex. the U.S. and Canada)
# IEF: 7-10 Year Treasury
# IYR: U.S. Real Estate
# ^TNX: 10-year U.S. Treasury rate</code></pre>
<div id="clean-the-data" class="section level1">
<h1>Clean the Data</h1>
<p>Letâ€™s create the returns table and define the start and end date of the time series.</p>
<pre class="r"><code>monthly_prices &lt;- 
      prices %&gt;%
      drop_na(adjusted) %&gt;%
      group_by(ticker) %&gt;%
      slice(xts::endpoints(date, on = &quot;months&quot;)) %&gt;%
      arrange(date)
      
returns &lt;-
      monthly_prices %&gt;% 
      mutate(return = adjusted / lag(adjusted) - 1) %&gt;%
      ungroup() %&gt;%
      select(ticker, date, return) %&gt;%
      arrange(ticker, date) %&gt;% 
      drop_na()

indexes &lt;-
      monthly_prices %&gt;% 
      filter(ticker != &quot;^TNX&quot;) %&gt;% 
      mutate(index = adjusted / adjusted[1]) %&gt;%
      ungroup() %&gt;%
      select(ticker, date, index) %&gt;%
      arrange(ticker, date) %&gt;% 
      drop_na()

tickers &lt;- returns %&gt;% distinct(ticker) %&gt;% pull()

start_date &lt;-
  returns %&gt;%
  group_by(ticker) %&gt;%
  filter(date == min(date)) %&gt;%
  pull(date) %&gt;%
  max()

end_date &lt;-
  returns %&gt;%
  group_by(ticker) %&gt;%
  filter(date == max(date)) %&gt;%
  pull(date) %&gt;%
  min() %&gt;%
  round_date(unit = &quot;months&quot;) %&gt;%
  {
    . - days(1)
  } %&gt;%
  as.character()

time_period &lt;- (as.Date(end_date) - as.Date(start_date)) %&gt;% as.numeric()

returns &lt;-
  returns %&gt;%
  filter(date &gt;= start_date, date &lt;= end_date)</code></pre>
<p>The data spans 10 years and 2 months.</p>
</div>
<div id="asset-performance" class="section level1">
<h1>Asset Performance</h1>
<p>How did each asset perform individually?</p>
<pre class="r"><code>indexes %&gt;%
      group_by(ticker) %&gt;%
      e_chart(x = date) %&gt;%
      e_line(serie = index,
             symbol = &#39;emptyCircle&#39;,
             symbolSize = 1) %&gt;%
      e_tooltip(trigger = &quot;axis&quot;, backgroundColor = &#39;white&#39;) %&gt;%
      e_grid(right = &quot;15%&quot;, top = &quot;20%&quot;) %&gt;%
      e_title(text = &quot;Growth of select ETFs&quot;,
              # subtext = &quot;index value&quot;,
              left = &quot;center&quot;,
              top = &quot;5%&quot;) %&gt;%
      e_legend(orient = &quot;vertical&quot;,
               # type = &quot;scroll&quot;,
               top = &quot;15%&quot;,
               right = &quot;5&quot;,
      ) %&gt;%
      e_datazoom(type = &quot;slider&quot;,
                 start = 0,
                 end = 100) %&gt;%
      e_theme(&quot;shine&quot;) %&gt;%
      e_toolbox_feature(&quot;dataZoom&quot;, selector = list(start = &#39;20&#39;,
                                                    end = &#39;80&#39;)) %&gt;%
      e_toolbox_feature(feature = &quot;reset&quot;) %&gt;%
      e_toolbox_feature(&quot;dataView&quot;) %&gt;%
      e_toolbox_feature(&quot;saveAsImage&quot;) %&gt;%
      e_legend(selector = list(
            list(type = &#39;inverse&#39;, title = &#39;Invert&#39;),
            list(type = &#39;all&#39;, title = &#39;Reset&#39;)
      ))</code></pre>
<div id="htmlwidget-1" style="width:100%;height:500px;" class="echarts4r html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"theme":"shine","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"yAxis":[{"show":true}],"xAxis":[{"data":["2003-09-30","2003-10-31","2003-11-28","2003-12-31","2004-01-30","2004-02-27","2004-03-31","2004-04-30","2004-05-28","2004-06-30","2004-07-30","2004-08-31","2004-09-30","2004-10-29","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-29","2005-05-31","2005-06-30","2005-07-29","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-30","2006-01-31","2006-02-28","2006-03-31","2006-04-28","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-29","2006-10-31","2006-11-30","2006-12-29","2007-01-31","2007-02-28","2007-03-30","2007-04-30","2007-05-31","2007-06-29","2007-07-31","2007-08-31","2007-09-28","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-30","2008-06-30","2008-07-31","2008-08-29","2008-09-30","2008-10-31","2008-11-28","2008-12-31","2009-01-30","2009-02-27","2009-03-31","2009-04-30","2009-05-29","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-30","2009-11-30","2009-12-31","2010-01-29","2010-02-26","2010-03-31","2010-04-30","2010-05-28","2010-06-30","2010-07-30","2010-08-31","2010-09-30","2010-10-29","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-29","2011-05-31","2011-06-30","2011-07-29","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-30","2012-01-31","2012-02-29","2012-03-30","2012-04-30","2012-05-31","2012-06-29","2012-07-31","2012-08-31","2012-09-28","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-28","2013-04-30","2013-05-31","2013-06-28","2013-07-31","2013-08-30","2013-09-30","2013-10-31","2013-11-29","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-30","2014-06-30","2014-07-31","2014-08-29","2014-09-30","2014-10-31","2014-11-28","2014-12-31","2015-01-30","2015-02-27","2015-03-31","2015-04-30","2015-05-29","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-30","2015-11-30","2015-12-31","2016-01-29","2016-02-29","2016-03-31","2016-04-29","2016-05-31","2016-06-30","2016-07-29","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-30","2017-01-31","2017-02-28","2017-03-31","2017-04-28","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-29","2017-10-31","2017-11-30","2017-12-29","2018-01-31","2018-02-28","2018-03-29","2018-04-30","2018-05-31","2018-06-29","2018-07-31","2018-08-31","2018-09-28","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-29","2019-04-30","2019-05-31","2019-06-28","2019-07-31","2019-08-30","2019-09-30","2019-10-31","2019-11-29","2019-12-31","2020-01-31","2020-02-28","2020-03-31","2020-04-30","2020-05-29","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-30","2020-11-30","2020-12-31","2021-01-29","2021-02-26","2021-03-31","2021-04-30","2021-05-28","2021-06-30","2021-07-30","2021-08-31","2021-09-30","2021-10-29","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-29","2022-05-27","2001-08-31","2001-09-28","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-28","2002-04-30","2002-05-31","2002-06-28","2002-07-31","2002-08-30","2002-09-30","2002-10-31","2002-11-29","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-30","2003-06-30","2003-07-31","2003-08-29","2001-06-29","2001-07-31"],"type":"time","boundaryGap":true}],"legend":{"data":["AGG","EFA","GSG","PICB","VTI","VWO"],"show":true,"type":"plain","orient":"vertical","top":"15%","right":"5","show.1":true,"type.1":"plain","selector":[{"type":"inverse","title":"Invert"},{"type":"all","title":"Reset"}]},"series":[{"data":[{"value":["2003-09-30","1.0000000"]},{"value":["2003-10-31","0.9906533"]},{"value":["2003-11-28","0.9939657"]},{"value":["2003-12-31","1.0036982"]},{"value":["2004-01-30","1.0081214"]},{"value":["2004-02-27","1.0196279"]},{"value":["2004-03-31","1.0266006"]},{"value":["2004-04-30","0.9977892"]},{"value":["2004-05-28","0.9940170"]},{"value":["2004-06-30","1.0012582"]},{"value":["2004-07-30","1.0105182"]},{"value":["2004-08-31","1.0268745"]},{"value":["2004-09-30","1.0321824"]},{"value":["2004-10-29","1.0411283"]},{"value":["2004-11-30","1.0334321"]},{"value":["2004-12-31","1.0416717"]},{"value":["2005-01-31","1.0467591"]},{"value":["2005-02-28","1.0428707"]},{"value":["2005-03-31","1.0327104"]},{"value":["2005-04-29","1.0505033"]},{"value":["2005-05-31","1.0591969"]},{"value":["2005-06-30","1.0684779"]},{"value":["2005-07-29","1.0574143"]},{"value":["2005-08-31","1.0699082"]},{"value":["2005-09-30","1.0598887"]},{"value":["2005-10-31","1.0493849"]},{"value":["2005-11-30","1.0533158"]},{"value":["2005-12-30","1.0652618"]},{"value":["2006-01-31","1.0646267"]},{"value":["2006-02-28","1.0663381"]},{"value":["2006-03-31","1.0570882"]},{"value":["2006-04-28","1.0555132"]},{"value":["2006-05-31","1.0534173"]},{"value":["2006-06-30","1.0517229"]},{"value":["2006-07-31","1.0663299"]},{"value":["2006-08-31","1.0832954"]},{"value":["2006-09-29","1.0942536"]},{"value":["2006-10-31","1.1017572"]},{"value":["2006-11-30","1.1134564"]},{"value":["2006-12-29","1.1067700"]},{"value":["2007-01-31","1.1059928"]},{"value":["2007-02-28","1.1239704"]},{"value":["2007-03-30","1.1217774"]},{"value":["2007-04-30","1.1283937"]},{"value":["2007-05-31","1.1180428"]},{"value":["2007-06-29","1.1138299"]},{"value":["2007-07-31","1.1257829"]},{"value":["2007-08-31","1.1401862"]},{"value":["2007-09-28","1.1474021"]},{"value":["2007-10-31","1.1589678"]},{"value":["2007-11-30","1.1798699"]},{"value":["2007-12-31","1.1797609"]},{"value":["2008-01-31","1.2070480"]},{"value":["2008-02-29","1.2051162"]},{"value":["2008-03-31","1.2066783"]},{"value":["2008-04-30","1.2106312"]},{"value":["2008-05-30","1.1953149"]},{"value":["2008-06-30","1.1931038"]},{"value":["2008-07-31","1.1978039"]},{"value":["2008-08-29","1.2066912"]},{"value":["2008-09-30","1.1854566"]},{"value":["2008-10-31","1.1584147"]},{"value":["2008-11-28","1.1934496"]},{"value":["2008-12-31","1.2729622"]},{"value":["2009-01-30","1.2476734"]},{"value":["2009-02-27","1.2345061"]},{"value":["2009-03-31","1.2481229"]},{"value":["2009-04-30","1.2545535"]},{"value":["2009-05-29","1.2634564"]},{"value":["2009-06-30","1.2687724"]},{"value":["2009-07-31","1.2848741"]},{"value":["2009-08-31","1.3005527"]},{"value":["2009-09-30","1.3160056"]},{"value":["2009-10-30","1.3189254"]},{"value":["2009-11-30","1.3358906"]},{"value":["2009-12-31","1.3107587"]},{"value":["2010-01-29","1.3293054"]},{"value":["2010-02-26","1.3319421"]},{"value":["2010-03-31","1.3318529"]},{"value":["2010-04-30","1.3448156"]},{"value":["2010-05-28","1.3593729"]},{"value":["2010-06-30","1.3834156"]},{"value":["2010-07-30","1.3952401"]},{"value":["2010-08-31","1.4131937"]},{"value":["2010-09-30","1.4132972"]},{"value":["2010-10-29","1.4154495"]},{"value":["2010-11-30","1.4036317"]},{"value":["2010-12-31","1.3941516"]},{"value":["2011-01-31","1.3929645"]},{"value":["2011-02-28","1.3970108"]},{"value":["2011-03-31","1.3938949"]},{"value":["2011-04-29","1.4157441"]},{"value":["2011-05-31","1.4332975"]},{"value":["2011-06-30","1.4269162"]},{"value":["2011-07-29","1.4509826"]},{"value":["2011-08-31","1.4730449"]},{"value":["2011-09-30","1.4843965"]},{"value":["2011-10-31","1.4862741"]},{"value":["2011-11-30","1.4813576"]},{"value":["2011-12-30","1.5014552"]},{"value":["2012-01-31","1.5123506"]},{"value":["2012-02-29","1.5121459"]},{"value":["2012-03-30","1.5034816"]},{"value":["2012-04-30","1.5171024"]},{"value":["2012-05-31","1.5334599"]},{"value":["2012-06-29","1.5331572"]},{"value":["2012-07-31","1.5540408"]},{"value":["2012-08-31","1.5540409"]},{"value":["2012-09-28","1.5581836"]},{"value":["2012-10-31","1.5574480"]},{"value":["2012-11-30","1.5616625"]},{"value":["2012-12-31","1.5578337"]},{"value":["2013-01-31","1.5481568"]},{"value":["2013-02-28","1.5573045"]},{"value":["2013-03-28","1.5588385"]},{"value":["2013-04-30","1.5739367"]},{"value":["2013-05-31","1.5424411"]},{"value":["2013-06-28","1.5182952"]},{"value":["2013-07-31","1.5223812"]},{"value":["2013-08-30","1.5098002"]},{"value":["2013-09-30","1.5267200"]},{"value":["2013-10-31","1.5394331"]},{"value":["2013-11-29","1.5355730"]},{"value":["2013-12-31","1.5270231"]},{"value":["2014-01-31","1.5505544"]},{"value":["2014-02-28","1.5563904"]},{"value":["2014-03-31","1.5540858"]},{"value":["2014-04-30","1.5668556"]},{"value":["2014-05-30","1.5853301"]},{"value":["2014-06-30","1.5844171"]},{"value":["2014-07-31","1.5804420"]},{"value":["2014-08-29","1.5986115"]},{"value":["2014-09-30","1.5887828"]},{"value":["2014-10-31","1.6056883"]},{"value":["2014-11-28","1.6162388"]},{"value":["2014-12-31","1.6186246"]},{"value":["2015-01-30","1.6518424"]},{"value":["2015-02-27","1.6370623"]},{"value":["2015-03-31","1.6431968"]},{"value":["2015-04-30","1.6378927"]},{"value":["2015-05-29","1.6307286"]},{"value":["2015-06-30","1.6131706"]},{"value":["2015-07-31","1.6270786"]},{"value":["2015-08-31","1.6216152"]},{"value":["2015-09-30","1.6347728"]},{"value":["2015-10-30","1.6358941"]},{"value":["2015-11-30","1.6295288"]},{"value":["2015-12-31","1.6264050"]},{"value":["2016-01-29","1.6465831"]},{"value":["2016-02-29","1.6611890"]},{"value":["2016-03-31","1.6757191"]},{"value":["2016-04-29","1.6799916"]},{"value":["2016-05-31","1.6802194"]},{"value":["2016-06-30","1.7127339"]},{"value":["2016-07-29","1.7220594"]},{"value":["2016-08-31","1.7183500"]},{"value":["2016-09-30","1.7192360"]},{"value":["2016-10-31","1.7051874"]},{"value":["2016-11-30","1.6614410"]},{"value":["2016-12-30","1.6656637"]},{"value":["2017-01-31","1.6692085"]},{"value":["2017-02-28","1.6799895"]},{"value":["2017-03-31","1.6790604"]},{"value":["2017-04-28","1.6942907"]},{"value":["2017-05-31","1.7059317"]},{"value":["2017-06-30","1.7056197"]},{"value":["2017-07-31","1.7113162"]},{"value":["2017-08-31","1.7274253"]},{"value":["2017-09-29","1.7175519"]},{"value":["2017-10-31","1.7192321"]},{"value":["2017-11-30","1.7166828"]},{"value":["2017-12-29","1.7248397"]},{"value":["2018-01-31","1.7054351"]},{"value":["2018-02-28","1.6882310"]},{"value":["2018-03-29","1.6995617"]},{"value":["2018-04-30","1.6835683"]},{"value":["2018-05-31","1.6947111"]},{"value":["2018-06-29","1.6964506"]},{"value":["2018-07-31","1.6959545"]},{"value":["2018-08-31","1.7055877"]},{"value":["2018-09-28","1.6950177"]},{"value":["2018-10-31","1.6841011"]},{"value":["2018-11-30","1.6970946"]},{"value":["2018-12-31","1.7307173"]},{"value":["2019-01-31","1.7464821"]},{"value":["2019-02-28","1.7444942"]},{"value":["2019-03-29","1.7815233"]},{"value":["2019-04-30","1.7779536"]},{"value":["2019-05-31","1.8119274"]},{"value":["2019-06-28","1.8318335"]},{"value":["2019-07-31","1.8351638"]},{"value":["2019-08-30","1.8862323"]},{"value":["2019-09-30","1.8746866"]},{"value":["2019-10-31","1.8785879"]},{"value":["2019-11-29","1.8779391"]},{"value":["2019-12-31","1.8770604"]},{"value":["2020-01-31","1.9151466"]},{"value":["2020-02-28","1.9454956"]},{"value":["2020-03-31","1.9352464"]},{"value":["2020-04-30","1.9685146"]},{"value":["2020-05-29","1.9817543"]},{"value":["2020-06-30","1.9948155"]},{"value":["2020-07-31","2.0214104"]},{"value":["2020-08-31","2.0047621"]},{"value":["2020-09-30","2.0028110"]},{"value":["2020-10-30","1.9916294"]},{"value":["2020-11-30","2.0156636"]},{"value":["2020-12-31","2.0173916"]},{"value":["2021-01-29","2.0023708"]},{"value":["2021-02-26","1.9719724"]},{"value":["2021-03-31","1.9493672"]},{"value":["2021-04-30","1.9636370"]},{"value":["2021-05-28","1.9676392"]},{"value":["2021-06-30","1.9839298"]},{"value":["2021-07-30","2.0060816"]},{"value":["2021-08-31","2.0020623"]},{"value":["2021-09-30","1.9836989"]},{"value":["2021-10-29","1.9835258"]},{"value":["2021-11-30","1.9888980"]},{"value":["2021-12-31","1.9817633"]},{"value":["2022-01-31","1.9421559"]},{"value":["2022-02-28","1.9199054"]},{"value":["2022-03-31","1.8659140"]},{"value":["2022-04-29","1.7948999"]},{"value":["2022-05-27","1.8200870"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"AGG","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2001-08-31","1.0000000"]},{"value":["2001-09-28","0.9038017"]},{"value":["2001-10-31","0.9202878"]},{"value":["2001-11-30","0.9510655"]},{"value":["2001-12-31","0.9568633"]},{"value":["2002-01-31","0.9015208"]},{"value":["2002-02-28","0.9123484"]},{"value":["2002-03-28","0.9632798"]},{"value":["2002-04-30","0.9779576"]},{"value":["2002-05-31","0.9831709"]},{"value":["2002-06-28","0.9508480"]},{"value":["2002-07-31","0.8602142"]},{"value":["2002-08-30","0.8517926"]},{"value":["2002-09-30","0.7635656"]},{"value":["2002-10-31","0.7928410"]},{"value":["2002-11-29","0.8373554"]},{"value":["2002-12-31","0.8093177"]},{"value":["2003-01-31","0.7744959"]},{"value":["2003-02-28","0.7581477"]},{"value":["2003-03-31","0.7405735"]},{"value":["2003-04-30","0.8158568"]},{"value":["2003-05-30","0.8684981"]},{"value":["2003-06-30","0.8853366"]},{"value":["2003-07-31","0.8987423"]},{"value":["2003-08-29","0.9283324"]},{"value":["2003-09-30","0.9563696"]},{"value":["2003-10-31","1.0184928"]},{"value":["2003-11-28","1.0442411"]},{"value":["2003-12-31","1.1354821"]},{"value":["2004-01-30","1.1482666"]},{"value":["2004-02-27","1.1746653"]},{"value":["2004-03-31","1.1754957"]},{"value":["2004-04-30","1.1356481"]},{"value":["2004-05-28","1.1485986"]},{"value":["2004-06-30","1.1871175"]},{"value":["2004-07-30","1.1364781"]},{"value":["2004-08-31","1.1500099"]},{"value":["2004-09-30","1.1738349"]},{"value":["2004-10-29","1.2149278"]},{"value":["2004-11-30","1.2888112"]},{"value":["2004-12-31","1.3507615"]},{"value":["2005-01-31","1.3250522"]},{"value":["2005-02-28","1.3752053"]},{"value":["2005-03-31","1.3391288"]},{"value":["2005-04-29","1.3174665"]},{"value":["2005-05-31","1.3060868"]},{"value":["2005-06-30","1.3247995"]},{"value":["2005-07-29","1.3645004"]},{"value":["2005-08-31","1.4168447"]},{"value":["2005-09-30","1.4691896"]},{"value":["2005-10-31","1.4224083"]},{"value":["2005-11-30","1.4552814"]},{"value":["2005-12-30","1.5307030"]},{"value":["2006-01-31","1.6190474"]},{"value":["2006-02-28","1.6077147"]},{"value":["2006-03-31","1.6721052"]},{"value":["2006-04-28","1.7522081"]},{"value":["2006-05-31","1.6852409"]},{"value":["2006-06-30","1.6842109"]},{"value":["2006-07-31","1.6978619"]},{"value":["2006-08-31","1.7411327"]},{"value":["2006-09-29","1.7449963"]},{"value":["2006-10-31","1.8104173"]},{"value":["2006-11-30","1.8660511"]},{"value":["2006-12-29","1.9257126"]},{"value":["2007-01-31","1.9525390"]},{"value":["2007-02-28","1.9501723"]},{"value":["2007-03-30","2.0067175"]},{"value":["2007-04-30","2.0819368"]},{"value":["2007-05-31","2.1311186"]},{"value":["2007-06-29","2.1242801"]},{"value":["2007-07-31","2.0756248"]},{"value":["2007-08-31","2.0624743"]},{"value":["2007-09-28","2.1721466"]},{"value":["2007-10-31","2.2644608"]},{"value":["2007-11-30","2.1824041"]},{"value":["2007-12-31","2.1173403"]},{"value":["2008-01-31","1.9511898"]},{"value":["2008-02-29","1.9312302"]},{"value":["2008-03-31","1.9393220"]},{"value":["2008-04-30","2.0447846"]},{"value":["2008-05-30","2.0690602"]},{"value":["2008-06-30","1.8872555"]},{"value":["2008-07-31","1.8245941"]},{"value":["2008-08-29","1.7470922"]},{"value":["2008-09-30","1.5472912"]},{"value":["2008-10-31","1.2249159"]},{"value":["2008-11-28","1.1468640"]},{"value":["2008-12-31","1.2485725"]},{"value":["2009-01-30","1.0771235"]},{"value":["2009-02-27","0.9652366"]},{"value":["2009-03-31","1.0462296"]},{"value":["2009-04-30","1.1667448"]},{"value":["2009-05-29","1.3206593"]},{"value":["2009-06-30","1.3021054"]},{"value":["2009-07-31","1.4328559"]},{"value":["2009-08-31","1.4973784"]},{"value":["2009-09-30","1.5542265"]},{"value":["2009-10-30","1.5150013"]},{"value":["2009-11-30","1.5744073"]},{"value":["2009-12-31","1.5855800"]},{"value":["2010-01-29","1.5052684"]},{"value":["2010-02-26","1.5092841"]},{"value":["2010-03-31","1.6056579"]},{"value":["2010-04-30","1.5606260"]},{"value":["2010-05-28","1.3859483"]},{"value":["2010-06-30","1.3573710"]},{"value":["2010-07-30","1.5149673"]},{"value":["2010-08-31","1.4574738"]},{"value":["2010-09-30","1.6028125"]},{"value":["2010-10-29","1.6638086"]},{"value":["2010-11-30","1.5835506"]},{"value":["2010-12-31","1.7151131"]},{"value":["2011-01-31","1.7510536"]},{"value":["2011-02-28","1.8132123"]},{"value":["2011-03-31","1.7699075"]},{"value":["2011-04-29","1.8694794"]},{"value":["2011-05-31","1.8282362"]},{"value":["2011-06-30","1.8061013"]},{"value":["2011-07-29","1.7631558"]},{"value":["2011-08-31","1.6087937"]},{"value":["2011-09-30","1.4349107"]},{"value":["2011-10-31","1.5730558"]},{"value":["2011-11-30","1.5388201"]},{"value":["2011-12-30","1.5053515"]},{"value":["2012-01-31","1.5846764"]},{"value":["2012-02-29","1.6612660"]},{"value":["2012-03-30","1.6682565"]},{"value":["2012-04-30","1.6336087"]},{"value":["2012-05-31","1.4515562"]},{"value":["2012-06-29","1.5537942"]},{"value":["2012-07-31","1.5550378"]},{"value":["2012-08-31","1.6047994"]},{"value":["2012-09-28","1.6483406"]},{"value":["2012-10-31","1.6663786"]},{"value":["2012-11-30","1.7127191"]},{"value":["2012-12-31","1.7877558"]},{"value":["2013-01-31","1.8544117"]},{"value":["2013-02-28","1.8305161"]},{"value":["2013-03-28","1.8544117"]},{"value":["2013-04-30","1.9474779"]},{"value":["2013-05-31","1.8886825"]},{"value":["2013-06-28","1.8381049"]},{"value":["2013-07-31","1.9359445"]},{"value":["2013-08-30","1.8980919"]},{"value":["2013-09-30","2.0466159"]},{"value":["2013-10-31","2.1133395"]},{"value":["2013-11-29","2.1248877"]},{"value":["2013-12-31","2.1711281"]},{"value":["2014-01-31","2.0582039"]},{"value":["2014-02-28","2.1843949"]},{"value":["2014-03-31","2.1743642"]},{"value":["2014-04-30","2.2106034"]},{"value":["2014-05-30","2.2458724"]},{"value":["2014-06-30","2.2665507"]},{"value":["2014-07-31","2.2075419"]},{"value":["2014-08-29","2.2115201"]},{"value":["2014-09-30","2.1256581"]},{"value":["2014-10-31","2.1200224"]},{"value":["2014-11-28","2.1213492"]},{"value":["2014-12-31","2.0366483"]},{"value":["2015-01-30","2.0493689"]},{"value":["2015-02-27","2.1792539"]},{"value":["2015-03-31","2.1481213"]},{"value":["2015-04-30","2.2264541"]},{"value":["2015-05-29","2.2308059"]},{"value":["2015-06-30","2.1612445"]},{"value":["2015-07-31","2.2051570"]},{"value":["2015-08-31","2.0414208"]},{"value":["2015-09-30","1.9512133"]},{"value":["2015-10-30","2.0802277"]},{"value":["2015-11-30","2.0645692"]},{"value":["2015-12-31","2.0164253"]},{"value":["2016-01-29","1.9051647"]},{"value":["2016-02-29","1.8416365"]},{"value":["2016-03-31","1.9628555"]},{"value":["2016-04-29","2.0064668"]},{"value":["2016-05-31","2.0047501"]},{"value":["2016-06-30","1.9562468"]},{"value":["2016-07-29","2.0340481"]},{"value":["2016-08-31","2.0449122"]},{"value":["2016-09-30","2.0722483"]},{"value":["2016-10-31","2.0263382"]},{"value":["2016-11-30","1.9902411"]},{"value":["2016-12-30","2.0441021"]},{"value":["2017-01-31","2.1113774"]},{"value":["2017-02-28","2.1365174"]},{"value":["2017-03-31","2.2055626"]},{"value":["2017-04-28","2.2590288"]},{"value":["2017-05-31","2.3390506"]},{"value":["2017-06-30","2.3459749"]},{"value":["2017-07-31","2.4082230"]},{"value":["2017-08-31","2.4071431"]},{"value":["2017-09-29","2.4639938"]},{"value":["2017-10-31","2.5053714"]},{"value":["2017-11-30","2.5226426"]},{"value":["2017-12-29","2.5566699"]},{"value":["2018-01-31","2.6850305"]},{"value":["2018-02-28","2.5552152"]},{"value":["2018-03-29","2.5337611"]},{"value":["2018-04-30","2.5723058"]},{"value":["2018-05-31","2.5235798"]},{"value":["2018-06-29","2.4836037"]},{"value":["2018-07-31","2.5544364"]},{"value":["2018-08-31","2.4973249"]},{"value":["2018-09-28","2.5214304"]},{"value":["2018-10-31","2.3163485"]},{"value":["2018-11-30","2.3278453"]},{"value":["2018-12-31","2.2033109"]},{"value":["2019-01-31","2.3494987"]},{"value":["2019-02-28","2.4090983"]},{"value":["2019-03-29","2.4312139"]},{"value":["2019-04-30","2.5024336"]},{"value":["2019-05-31","2.3764874"]},{"value":["2019-06-28","2.5169770"]},{"value":["2019-07-31","2.4679621"]},{"value":["2019-08-30","2.4204791"]},{"value":["2019-09-30","2.4970645"]},{"value":["2019-10-31","2.5816913"]},{"value":["2019-11-29","2.6107940"]},{"value":["2019-12-31","2.6889978"]},{"value":["2020-01-31","2.6130984"]},{"value":["2020-02-28","2.4101843"]},{"value":["2020-03-31","2.0701872"]},{"value":["2020-04-30","2.1906191"]},{"value":["2020-05-29","2.3095017"]},{"value":["2020-06-30","2.3905929"]},{"value":["2020-07-31","2.4369359"]},{"value":["2020-08-31","2.5520081"]},{"value":["2020-09-30","2.4997740"]},{"value":["2020-10-30","2.4110152"]},{"value":["2020-11-30","2.7550532"]},{"value":["2020-12-31","2.8932302"]},{"value":["2021-01-29","2.8706271"]},{"value":["2021-02-26","2.9348684"]},{"value":["2021-03-31","3.0086265"]},{"value":["2021-04-30","3.0974536"]},{"value":["2021-05-28","3.2053154"]},{"value":["2021-06-30","3.1707618"]},{"value":["2021-07-30","3.1952819"]},{"value":["2021-08-31","3.2415089"]},{"value":["2021-09-30","3.1357901"]},{"value":["2021-10-29","3.2354793"]},{"value":["2021-11-30","3.0887591"]},{"value":["2021-12-31","3.2243845"]},{"value":["2022-01-31","3.1071789"]},{"value":["2022-02-28","3.0006284"]},{"value":["2022-03-31","3.0162010"]},{"value":["2022-04-29","2.8129353"]},{"value":["2022-05-27","2.8862913"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"EFA","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2006-07-31","1.0000000"]},{"value":["2006-08-31","0.9286700"]},{"value":["2006-09-29","0.8289655"]},{"value":["2006-10-31","0.8078818"]},{"value":["2006-11-30","0.8482758"]},{"value":["2006-12-29","0.7895567"]},{"value":["2007-01-31","0.7694581"]},{"value":["2007-02-28","0.7980296"]},{"value":["2007-03-30","0.8177340"]},{"value":["2007-04-30","0.8214778"]},{"value":["2007-05-31","0.8118227"]},{"value":["2007-06-29","0.8372414"]},{"value":["2007-07-31","0.8772414"]},{"value":["2007-08-31","0.8492610"]},{"value":["2007-09-28","0.9294581"]},{"value":["2007-10-31","0.9852217"]},{"value":["2007-11-30","0.9806897"]},{"value":["2007-12-31","1.0392119"]},{"value":["2008-01-31","1.0344828"]},{"value":["2008-02-29","1.1509360"]},{"value":["2008-03-31","1.1400985"]},{"value":["2008-04-30","1.2334975"]},{"value":["2008-05-30","1.3379311"]},{"value":["2008-06-30","1.4760592"]},{"value":["2008-07-31","1.2794089"]},{"value":["2008-08-29","1.1836453"]},{"value":["2008-09-30","1.0600985"]},{"value":["2008-10-31","0.7456158"]},{"value":["2008-11-28","0.6346798"]},{"value":["2008-12-31","0.5637439"]},{"value":["2009-01-30","0.5054187"]},{"value":["2009-02-27","0.4744828"]},{"value":["2009-03-31","0.4961576"]},{"value":["2009-04-30","0.4884729"]},{"value":["2009-05-29","0.5934976"]},{"value":["2009-06-30","0.5921182"]},{"value":["2009-07-31","0.5964532"]},{"value":["2009-08-31","0.5990148"]},{"value":["2009-09-30","0.5848276"]},{"value":["2009-10-30","0.6130049"]},{"value":["2009-11-30","0.6208867"]},{"value":["2009-12-31","0.6269951"]},{"value":["2010-01-29","0.5761576"]},{"value":["2010-02-26","0.6102463"]},{"value":["2010-03-31","0.6139901"]},{"value":["2010-04-30","0.6333005"]},{"value":["2010-05-28","0.5471921"]},{"value":["2010-06-30","0.5475862"]},{"value":["2010-07-30","0.5791133"]},{"value":["2010-08-31","0.5473892"]},{"value":["2010-09-30","0.5913300"]},{"value":["2010-10-29","0.6084729"]},{"value":["2010-11-30","0.6159606"]},{"value":["2010-12-31","0.6719211"]},{"value":["2011-01-31","0.6928079"]},{"value":["2011-02-28","0.7111330"]},{"value":["2011-03-31","0.7359606"]},{"value":["2011-04-29","0.7672906"]},{"value":["2011-05-31","0.7146798"]},{"value":["2011-06-30","0.6721182"]},{"value":["2011-07-29","0.6933990"]},{"value":["2011-08-31","0.6815764"]},{"value":["2011-09-30","0.5948769"]},{"value":["2011-10-31","0.6559606"]},{"value":["2011-11-30","0.6658128"]},{"value":["2011-12-30","0.6498522"]},{"value":["2012-01-31","0.6654187"]},{"value":["2012-02-29","0.7067980"]},{"value":["2012-03-30","0.6853202"]},{"value":["2012-04-30","0.6829557"]},{"value":["2012-05-31","0.5956650"]},{"value":["2012-06-29","0.5998030"]},{"value":["2012-07-31","0.6350739"]},{"value":["2012-08-31","0.6805912"]},{"value":["2012-09-28","0.6660098"]},{"value":["2012-10-31","0.6392118"]},{"value":["2012-11-30","0.6494581"]},{"value":["2012-12-31","0.6461084"]},{"value":["2013-01-31","0.6756650"]},{"value":["2013-02-28","0.6411823"]},{"value":["2013-03-28","0.6482759"]},{"value":["2013-04-30","0.6165517"]},{"value":["2013-05-31","0.6070936"]},{"value":["2013-06-28","0.6068965"]},{"value":["2013-07-31","0.6411823"]},{"value":["2013-08-30","0.6610837"]},{"value":["2013-09-30","0.6380296"]},{"value":["2013-10-31","0.6287685"]},{"value":["2013-11-29","0.6258128"]},{"value":["2013-12-31","0.6342857"]},{"value":["2014-01-31","0.6202956"]},{"value":["2014-02-28","0.6500493"]},{"value":["2014-03-31","0.6496552"]},{"value":["2014-04-30","0.6561576"]},{"value":["2014-05-30","0.6528079"]},{"value":["2014-06-30","0.6683743"]},{"value":["2014-07-31","0.6305419"]},{"value":["2014-08-29","0.6206897"]},{"value":["2014-09-30","0.5830542"]},{"value":["2014-10-31","0.5483744"]},{"value":["2014-11-28","0.4930049"]},{"value":["2014-12-31","0.4252217"]},{"value":["2015-01-30","0.3881774"]},{"value":["2015-02-27","0.4112315"]},{"value":["2015-03-31","0.3842365"]},{"value":["2015-04-30","0.4262069"]},{"value":["2015-05-29","0.4169458"]},{"value":["2015-06-30","0.4159606"]},{"value":["2015-07-31","0.3570444"]},{"value":["2015-08-31","0.3580296"]},{"value":["2015-09-30","0.3365517"]},{"value":["2015-10-30","0.3363547"]},{"value":["2015-11-30","0.3056158"]},{"value":["2015-12-31","0.2803941"]},{"value":["2016-01-29","0.2656158"]},{"value":["2016-02-29","0.2600985"]},{"value":["2016-03-31","0.2717241"]},{"value":["2016-04-29","0.2999015"]},{"value":["2016-05-31","0.3038424"]},{"value":["2016-06-30","0.3058128"]},{"value":["2016-07-29","0.2750739"]},{"value":["2016-08-31","0.2805911"]},{"value":["2016-09-30","0.2920197"]},{"value":["2016-10-31","0.2868966"]},{"value":["2016-11-30","0.2939901"]},{"value":["2016-12-30","0.3087685"]},{"value":["2017-01-31","0.3040394"]},{"value":["2017-02-28","0.3044335"]},{"value":["2017-03-31","0.2920197"]},{"value":["2017-04-28","0.2843350"]},{"value":["2017-05-31","0.2809852"]},{"value":["2017-06-30","0.2762562"]},{"value":["2017-07-31","0.2878818"]},{"value":["2017-08-31","0.2849261"]},{"value":["2017-09-29","0.2935961"]},{"value":["2017-10-31","0.3050246"]},{"value":["2017-11-30","0.3089655"]},{"value":["2017-12-29","0.3207882"]},{"value":["2018-01-31","0.3328079"]},{"value":["2018-02-28","0.3205911"]},{"value":["2018-03-29","0.3280788"]},{"value":["2018-04-30","0.3432512"]},{"value":["2018-05-31","0.3485714"]},{"value":["2018-06-29","0.3529064"]},{"value":["2018-07-31","0.3400985"]},{"value":["2018-08-31","0.3436453"]},{"value":["2018-09-28","0.3568473"]},{"value":["2018-10-31","0.3347783"]},{"value":["2018-11-30","0.2977340"]},{"value":["2018-12-31","0.2762562"]},{"value":["2019-01-31","0.2993103"]},{"value":["2019-02-28","0.3097537"]},{"value":["2019-03-29","0.3142857"]},{"value":["2019-04-30","0.3229556"]},{"value":["2019-05-31","0.2957635"]},{"value":["2019-06-28","0.3083744"]},{"value":["2019-07-31","0.3069951"]},{"value":["2019-08-30","0.2920197"]},{"value":["2019-09-30","0.2965517"]},{"value":["2019-10-31","0.2989163"]},{"value":["2019-11-29","0.3000985"]},{"value":["2019-12-31","0.3194088"]},{"value":["2020-01-31","0.2855172"]},{"value":["2020-02-28","0.2632512"]},{"value":["2020-03-31","0.1832512"]},{"value":["2020-04-30","0.1670936"]},{"value":["2020-05-29","0.1934975"]},{"value":["2020-06-30","0.2043350"]},{"value":["2020-07-31","0.2118227"]},{"value":["2020-08-31","0.2216749"]},{"value":["2020-09-30","0.2118227"]},{"value":["2020-10-30","0.2045320"]},{"value":["2020-11-30","0.2295567"]},{"value":["2020-12-31","0.2429557"]},{"value":["2021-01-29","0.2543842"]},{"value":["2021-02-26","0.2805911"]},{"value":["2021-03-31","0.2752709"]},{"value":["2021-04-30","0.2975369"]},{"value":["2021-05-28","0.3046305"]},{"value":["2021-06-30","0.3170443"]},{"value":["2021-07-30","0.3211822"]},{"value":["2021-08-31","0.3134975"]},{"value":["2021-09-30","0.3322168"]},{"value":["2021-10-29","0.3517241"]},{"value":["2021-11-30","0.3144828"]},{"value":["2021-12-31","0.3371429"]},{"value":["2022-01-31","0.3767488"]},{"value":["2022-02-28","0.4100492"]},{"value":["2022-03-31","0.4463054"]},{"value":["2022-04-29","0.4666010"]},{"value":["2022-05-27","0.4975369"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"GSG","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2010-06-30","1.000000"]},{"value":["2010-07-30","1.064734"]},{"value":["2010-08-31","1.074079"]},{"value":["2010-09-30","1.123738"]},{"value":["2010-10-29","1.139160"]},{"value":["2010-11-30","1.057802"]},{"value":["2010-12-31","1.092968"]},{"value":["2011-01-31","1.088095"]},{"value":["2011-02-28","1.114833"]},{"value":["2011-03-31","1.128692"]},{"value":["2011-04-29","1.181503"]},{"value":["2011-05-31","1.174540"]},{"value":["2011-06-30","1.166290"]},{"value":["2011-07-29","1.192136"]},{"value":["2011-08-31","1.175129"]},{"value":["2011-09-30","1.089827"]},{"value":["2011-10-31","1.146337"]},{"value":["2011-11-30","1.083484"]},{"value":["2011-12-30","1.104388"]},{"value":["2012-01-31","1.142181"]},{"value":["2012-02-29","1.175004"]},{"value":["2012-03-30","1.175119"]},{"value":["2012-04-30","1.185234"]},{"value":["2012-05-31","1.118237"]},{"value":["2012-06-29","1.147248"]},{"value":["2012-07-31","1.164529"]},{"value":["2012-08-31","1.199641"]},{"value":["2012-09-28","1.231704"]},{"value":["2012-10-31","1.249849"]},{"value":["2012-11-30","1.255778"]},{"value":["2012-12-31","1.278781"]},{"value":["2013-01-31","1.272958"]},{"value":["2013-02-28","1.238976"]},{"value":["2013-03-28","1.242937"]},{"value":["2013-04-30","1.295220"]},{"value":["2013-05-31","1.255980"]},{"value":["2013-06-28","1.208037"]},{"value":["2013-07-31","1.249378"]},{"value":["2013-08-30","1.240529"]},{"value":["2013-09-30","1.289526"]},{"value":["2013-10-31","1.307075"]},{"value":["2013-11-29","1.305731"]},{"value":["2013-12-31","1.310483"]},{"value":["2014-01-31","1.304604"]},{"value":["2014-02-28","1.337000"]},{"value":["2014-03-31","1.340483"]},{"value":["2014-04-30","1.365409"]},{"value":["2014-05-30","1.359802"]},{"value":["2014-06-30","1.380235"]},{"value":["2014-07-31","1.361028"]},{"value":["2014-08-29","1.363337"]},{"value":["2014-09-30","1.315722"]},{"value":["2014-10-31","1.303785"]},{"value":["2014-11-28","1.300932"]},{"value":["2014-12-31","1.295347"]},{"value":["2015-01-30","1.252753"]},{"value":["2015-02-27","1.251918"]},{"value":["2015-03-31","1.211798"]},{"value":["2015-04-30","1.249439"]},{"value":["2015-05-29","1.224640"]},{"value":["2015-06-30","1.213536"]},{"value":["2015-07-31","1.214523"]},{"value":["2015-08-31","1.208033"]},{"value":["2015-09-30","1.187959"]},{"value":["2015-10-30","1.202883"]},{"value":["2015-11-30","1.172286"]},{"value":["2015-12-31","1.174944"]},{"value":["2016-01-29","1.159055"]},{"value":["2016-02-29","1.156526"]},{"value":["2016-03-31","1.234092"]},{"value":["2016-04-29","1.253320"]},{"value":["2016-05-31","1.230245"]},{"value":["2016-06-30","1.218306"]},{"value":["2016-07-29","1.253893"]},{"value":["2016-08-31","1.273392"]},{"value":["2016-09-30","1.259732"]},{"value":["2016-10-31","1.187752"]},{"value":["2016-11-30","1.153543"]},{"value":["2016-12-30","1.165100"]},{"value":["2017-01-31","1.181686"]},{"value":["2017-02-28","1.179988"]},{"value":["2017-03-31","1.193537"]},{"value":["2017-04-28","1.219035"]},{"value":["2017-05-31","1.250311"]},{"value":["2017-06-30","1.259998"]},{"value":["2017-07-31","1.304271"]},{"value":["2017-08-31","1.304906"]},{"value":["2017-09-29","1.302138"]},{"value":["2017-10-31","1.296553"]},{"value":["2017-11-30","1.310835"]},{"value":["2017-12-29","1.333258"]},{"value":["2018-01-31","1.372280"]},{"value":["2018-02-28","1.332039"]},{"value":["2018-03-29","1.350327"]},{"value":["2018-04-30","1.321087"]},{"value":["2018-05-31","1.282990"]},{"value":["2018-06-29","1.273537"]},{"value":["2018-07-31","1.279136"]},{"value":["2018-08-31","1.270071"]},{"value":["2018-09-28","1.269177"]},{"value":["2018-10-31","1.235801"]},{"value":["2018-11-30","1.219809"]},{"value":["2018-12-31","1.236606"]},{"value":["2019-01-31","1.272694"]},{"value":["2019-02-28","1.280340"]},{"value":["2019-03-29","1.290385"]},{"value":["2019-04-30","1.290095"]},{"value":["2019-05-31","1.275973"]},{"value":["2019-06-28","1.318146"]},{"value":["2019-07-31","1.300458"]},{"value":["2019-08-30","1.311903"]},{"value":["2019-09-30","1.301471"]},{"value":["2019-10-31","1.335158"]},{"value":["2019-11-29","1.324770"]},{"value":["2019-12-31","1.352716"]},{"value":["2020-01-31","1.367786"]},{"value":["2020-02-28","1.339335"]},{"value":["2020-03-31","1.223947"]},{"value":["2020-04-30","1.296961"]},{"value":["2020-05-29","1.313493"]},{"value":["2020-06-30","1.344488"]},{"value":["2020-07-31","1.422623"]},{"value":["2020-08-31","1.438050"]},{"value":["2020-09-30","1.414199"]},{"value":["2020-10-30","1.416909"]},{"value":["2020-11-30","1.475699"]},{"value":["2020-12-31","1.526705"]},{"value":["2021-01-29","1.506850"]},{"value":["2021-02-26","1.477806"]},{"value":["2021-03-31","1.450772"]},{"value":["2021-04-30","1.482939"]},{"value":["2021-05-28","1.505961"]},{"value":["2021-06-30","1.480799"]},{"value":["2021-07-30","1.500721"]},{"value":["2021-08-31","1.479430"]},{"value":["2021-09-30","1.431625"]},{"value":["2021-10-29","1.440270"]},{"value":["2021-11-30","1.408249"]},{"value":["2021-12-31","1.420709"]},{"value":["2022-01-31","1.371230"]},{"value":["2022-02-28","1.332057"]},{"value":["2022-03-31","1.298549"]},{"value":["2022-04-29","1.200893"]},{"value":["2022-05-27","1.210564"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"PICB","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2001-06-29","1.0000000"]},{"value":["2001-07-31","0.9808852"]},{"value":["2001-08-31","0.9234515"]},{"value":["2001-09-28","0.8432656"]},{"value":["2001-10-31","0.8605838"]},{"value":["2001-11-30","0.9261265"]},{"value":["2001-12-31","0.9394822"]},{"value":["2002-01-31","0.9312809"]},{"value":["2002-02-28","0.9149678"]},{"value":["2002-03-28","0.9485654"]},{"value":["2002-04-30","0.9062821"]},{"value":["2002-05-31","0.8934984"]},{"value":["2002-06-28","0.8319063"]},{"value":["2002-07-31","0.7625210"]},{"value":["2002-08-30","0.7683485"]},{"value":["2002-09-30","0.6906820"]},{"value":["2002-10-31","0.7424270"]},{"value":["2002-11-29","0.7869726"]},{"value":["2002-12-31","0.7470804"]},{"value":["2003-01-31","0.7263761"]},{"value":["2003-02-28","0.7151647"]},{"value":["2003-03-31","0.7205406"]},{"value":["2003-04-30","0.7826123"]},{"value":["2003-05-30","0.8282583"]},{"value":["2003-06-30","0.8416446"]},{"value":["2003-07-31","0.8612180"]},{"value":["2003-08-29","0.8817923"]},{"value":["2003-09-30","0.8725055"]},{"value":["2003-10-31","0.9253133"]},{"value":["2003-11-28","0.9391997"]},{"value":["2003-12-31","0.9767558"]},{"value":["2004-01-30","1.0022622"]},{"value":["2004-02-27","1.0162996"]},{"value":["2004-03-31","1.0058962"]},{"value":["2004-04-30","0.9835286"]},{"value":["2004-05-28","0.9977961"]},{"value":["2004-06-30","1.0180568"]},{"value":["2004-07-30","0.9818496"]},{"value":["2004-08-31","0.9824039"]},{"value":["2004-09-30","0.9989248"]},{"value":["2004-10-29","1.0169083"]},{"value":["2004-11-30","1.0651121"]},{"value":["2004-12-31","1.1016004"]},{"value":["2005-01-31","1.0740720"]},{"value":["2005-02-28","1.0964677"]},{"value":["2005-03-31","1.0759423"]},{"value":["2005-04-29","1.0522430"]},{"value":["2005-05-31","1.0930849"]},{"value":["2005-06-30","1.1013733"]},{"value":["2005-07-29","1.1495942"]},{"value":["2005-08-31","1.1370925"]},{"value":["2005-09-30","1.1460941"]},{"value":["2005-10-31","1.1191771"]},{"value":["2005-11-30","1.1708390"]},{"value":["2005-12-30","1.1710455"]},{"value":["2006-01-31","1.2087412"]},{"value":["2006-02-28","1.2114005"]},{"value":["2006-03-31","1.2362398"]},{"value":["2006-04-28","1.2480613"]},{"value":["2006-05-31","1.2078291"]},{"value":["2006-06-30","1.2094280"]},{"value":["2006-07-31","1.2079922"]},{"value":["2006-08-31","1.2357599"]},{"value":["2006-09-29","1.2636876"]},{"value":["2006-10-31","1.3082977"]},{"value":["2006-11-30","1.3387746"]},{"value":["2006-12-29","1.3548603"]},{"value":["2007-01-31","1.3800806"]},{"value":["2007-02-28","1.3576627"]},{"value":["2007-03-30","1.3728801"]},{"value":["2007-04-30","1.4280988"]},{"value":["2007-05-31","1.4812791"]},{"value":["2007-06-29","1.4551674"]},{"value":["2007-07-31","1.4037325"]},{"value":["2007-08-31","1.4243843"]},{"value":["2007-09-28","1.4791762"]},{"value":["2007-10-31","1.5056880"]},{"value":["2007-11-30","1.4375989"]},{"value":["2007-12-31","1.4276148"]},{"value":["2008-01-31","1.3395876"]},{"value":["2008-02-29","1.3061473"]},{"value":["2008-03-31","1.2944614"]},{"value":["2008-04-30","1.3577028"]},{"value":["2008-05-30","1.3850740"]},{"value":["2008-06-30","1.2725949"]},{"value":["2008-07-31","1.2646528"]},{"value":["2008-08-29","1.2831187"]},{"value":["2008-09-30","1.1645448"]},{"value":["2008-10-31","0.9610086"]},{"value":["2008-11-28","0.8839845"]},{"value":["2008-12-31","0.8995969"]},{"value":["2009-01-30","0.8272107"]},{"value":["2009-02-27","0.7401462"]},{"value":["2009-03-31","0.8013730"]},{"value":["2009-04-30","0.8894470"]},{"value":["2009-05-29","0.9380395"]},{"value":["2009-06-30","0.9414851"]},{"value":["2009-07-31","1.0143294"]},{"value":["2009-08-31","1.0519729"]},{"value":["2009-09-30","1.0954561"]},{"value":["2009-10-30","1.0666335"]},{"value":["2009-11-30","1.1273448"]},{"value":["2009-12-31","1.1596219"]},{"value":["2010-01-29","1.1182730"]},{"value":["2010-02-26","1.1567417"]},{"value":["2010-03-31","1.2307244"]},{"value":["2010-04-30","1.2575735"]},{"value":["2010-05-28","1.1584380"]},{"value":["2010-06-30","1.0907796"]},{"value":["2010-07-30","1.1673580"]},{"value":["2010-08-31","1.1123628"]},{"value":["2010-09-30","1.2176332"]},{"value":["2010-10-29","1.2666557"]},{"value":["2010-11-30","1.2731222"]},{"value":["2010-12-31","1.3617239"]},{"value":["2011-01-31","1.3896167"]},{"value":["2011-02-28","1.4409989"]},{"value":["2011-03-31","1.4470301"]},{"value":["2011-04-29","1.4889389"]},{"value":["2011-05-31","1.4731442"]},{"value":["2011-06-30","1.4466339"]},{"value":["2011-07-29","1.4138516"]},{"value":["2011-08-31","1.3277727"]},{"value":["2011-09-30","1.2272340"]},{"value":["2011-10-31","1.3667116"]},{"value":["2011-11-30","1.3616085"]},{"value":["2011-12-30","1.3749130"]},{"value":["2012-01-31","1.4446204"]},{"value":["2012-02-29","1.5055616"]},{"value":["2012-03-30","1.5517474"]},{"value":["2012-04-30","1.5418693"]},{"value":["2012-05-31","1.4458785"]},{"value":["2012-06-29","1.5043656"]},{"value":["2012-07-31","1.5175318"]},{"value":["2012-08-31","1.5585403"]},{"value":["2012-09-28","1.5973694"]},{"value":["2012-10-31","1.5685233"]},{"value":["2012-11-30","1.5806693"]},{"value":["2012-12-31","1.6011043"]},{"value":["2013-01-31","1.6878452"]},{"value":["2013-02-28","1.7094763"]},{"value":["2013-03-28","1.7769752"]},{"value":["2013-04-30","1.8055082"]},{"value":["2013-05-31","1.8496248"]},{"value":["2013-06-28","1.8230512"]},{"value":["2013-07-31","1.9277994"]},{"value":["2013-08-30","1.8693611"]},{"value":["2013-09-30","1.9422123"]},{"value":["2013-10-31","2.0250858"]},{"value":["2013-11-29","2.0798179"]},{"value":["2013-12-31","2.1366691"]},{"value":["2014-01-31","2.0689520"]},{"value":["2014-02-28","2.1696376"]},{"value":["2014-03-31","2.1806890"]},{"value":["2014-04-30","2.1820317"]},{"value":["2014-05-30","2.2278956"]},{"value":["2014-06-30","2.2862939"]},{"value":["2014-07-31","2.2406888"]},{"value":["2014-08-29","2.3336949"]},{"value":["2014-09-30","2.2847658"]},{"value":["2014-10-31","2.3475048"]},{"value":["2014-11-28","2.4057297"]},{"value":["2014-12-31","2.4048080"]},{"value":["2015-01-30","2.3390162"]},{"value":["2015-02-27","2.4733232"]},{"value":["2015-03-31","2.4445607"]},{"value":["2015-04-30","2.4596042"]},{"value":["2015-05-29","2.4915147"]},{"value":["2015-06-30","2.4497844"]},{"value":["2015-07-31","2.4914467"]},{"value":["2015-08-31","2.3396789"]},{"value":["2015-09-30","2.2712914"]},{"value":["2015-10-30","2.4509790"]},{"value":["2015-11-30","2.4657041"]},{"value":["2015-12-31","2.4133463"]},{"value":["2016-01-29","2.2752094"]},{"value":["2016-02-29","2.2749776"]},{"value":["2016-03-31","2.4367258"]},{"value":["2016-04-29","2.4527667"]},{"value":["2016-05-31","2.4953077"]},{"value":["2016-06-30","2.5021313"]},{"value":["2016-07-29","2.6016000"]},{"value":["2016-08-31","2.6069701"]},{"value":["2016-09-30","2.6121605"]},{"value":["2016-10-31","2.5549109"]},{"value":["2016-11-30","2.6696463"]},{"value":["2016-12-30","2.7226830"]},{"value":["2017-01-31","2.7732074"]},{"value":["2017-02-28","2.8756745"]},{"value":["2017-03-31","2.8772627"]},{"value":["2017-04-28","2.9078568"]},{"value":["2017-05-31","2.9372649"]},{"value":["2017-06-30","2.9650897"]},{"value":["2017-07-31","3.0208416"]},{"value":["2017-08-31","3.0253686"]},{"value":["2017-09-29","3.0991896"]},{"value":["2017-10-31","3.1664280"]},{"value":["2017-11-30","3.2623799"]},{"value":["2017-12-29","3.3002579"]},{"value":["2018-01-31","3.4729053"]},{"value":["2018-02-28","3.3423376"]},{"value":["2018-03-29","3.2767226"]},{"value":["2018-04-30","3.2914495"]},{"value":["2018-05-31","3.3810210"]},{"value":["2018-06-29","3.4048088"]},{"value":["2018-07-31","3.5177937"]},{"value":["2018-08-31","3.6385372"]},{"value":["2018-09-28","3.6456730"]},{"value":["2018-10-31","3.3755056"]},{"value":["2018-11-30","3.4434736"]},{"value":["2018-12-31","3.1274959"]},{"value":["2019-01-31","3.3945936"]},{"value":["2019-02-28","3.5154006"]},{"value":["2019-03-29","3.5652036"]},{"value":["2019-04-30","3.7051404"]},{"value":["2019-05-31","3.4661626"]},{"value":["2019-06-28","3.7115011"]},{"value":["2019-07-31","3.7639254"]},{"value":["2019-08-30","3.6855359"]},{"value":["2019-09-30","3.7511133"]},{"value":["2019-10-31","3.8301106"]},{"value":["2019-11-29","3.9751864"]},{"value":["2019-12-31","4.0866558"]},{"value":["2020-01-31","4.0841587"]},{"value":["2020-02-28","3.7574657"]},{"value":["2020-03-31","3.2357150"]},{"value":["2020-04-30","3.6606680"]},{"value":["2020-05-29","3.8582094"]},{"value":["2020-06-30","3.9468775"]},{"value":["2020-07-31","4.1735589"]},{"value":["2020-08-31","4.4700853"]},{"value":["2020-09-30","4.3119526"]},{"value":["2020-10-30","4.2278964"]},{"value":["2020-11-30","4.7269191"]},{"value":["2020-12-31","4.9479656"]},{"value":["2021-01-29","4.9314417"]},{"value":["2021-02-26","5.0862560"]},{"value":["2021-03-31","5.2717991"]},{"value":["2021-04-30","5.5373145"]},{"value":["2021-05-28","5.5625653"]},{"value":["2021-06-30","5.7006275"]},{"value":["2021-07-30","5.7996377"]},{"value":["2021-08-31","5.9654214"]},{"value":["2021-09-30","5.6991164"]},{"value":["2021-10-29","6.0802380"]},{"value":["2021-11-30","5.9914378"]},{"value":["2021-12-31","6.2186952"]},{"value":["2022-01-31","5.8418744"]},{"value":["2022-02-28","5.6966066"]},{"value":["2022-03-31","5.8823129"]},{"value":["2022-04-29","5.3451616"]},{"value":["2022-05-27","5.3759077"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"VTI","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1},{"data":[{"value":["2005-03-31","1.0000000"]},{"value":["2005-04-29","0.9766951"]},{"value":["2005-05-31","1.0050848"]},{"value":["2005-06-30","1.0398310"]},{"value":["2005-07-29","1.1122883"]},{"value":["2005-08-31","1.1281783"]},{"value":["2005-09-30","1.2209749"]},{"value":["2005-10-31","1.1519069"]},{"value":["2005-11-30","1.2322039"]},{"value":["2005-12-30","1.3126586"]},{"value":["2006-01-31","1.4653130"]},{"value":["2006-02-28","1.4338335"]},{"value":["2006-03-31","1.4506517"]},{"value":["2006-04-28","1.5638488"]},{"value":["2006-05-31","1.3872612"]},{"value":["2006-06-30","1.3859675"]},{"value":["2006-07-31","1.4116259"]},{"value":["2006-08-31","1.4325404"]},{"value":["2006-09-29","1.4476330"]},{"value":["2006-10-31","1.5211576"]},{"value":["2006-11-30","1.6326304"]},{"value":["2006-12-29","1.6981290"]},{"value":["2007-01-31","1.6994453"]},{"value":["2007-02-28","1.6599493"]},{"value":["2007-03-30","1.7306044"]},{"value":["2007-04-30","1.7964310"]},{"value":["2007-05-31","1.9160180"]},{"value":["2007-06-29","2.0031298"]},{"value":["2007-07-31","2.0735649"]},{"value":["2007-08-31","2.0733462"]},{"value":["2007-09-28","2.2771919"]},{"value":["2007-10-31","2.5734143"]},{"value":["2007-11-30","2.3539900"]},{"value":["2007-12-31","2.3317312"]},{"value":["2008-01-31","2.1213609"]},{"value":["2008-02-29","2.1823928"]},{"value":["2008-03-31","2.1021346"]},{"value":["2008-04-30","2.2794184"]},{"value":["2008-05-30","2.3201059"]},{"value":["2008-06-30","2.0925218"]},{"value":["2008-07-31","1.9937084"]},{"value":["2008-08-29","1.8358755"]},{"value":["2008-09-30","1.5497181"]},{"value":["2008-10-31","1.1271895"]},{"value":["2008-11-28","1.0297174"]},{"value":["2008-12-31","1.1085226"]},{"value":["2009-01-30","1.0097571"]},{"value":["2009-02-27","0.9857714"]},{"value":["2009-03-31","1.1080522"]},{"value":["2009-04-30","1.3013502"]},{"value":["2009-05-29","1.5341542"]},{"value":["2009-06-30","1.4965289"]},{"value":["2009-07-31","1.6597266"]},{"value":["2009-08-31","1.6479689"]},{"value":["2009-09-30","1.8121073"]},{"value":["2009-10-30","1.7683682"]},{"value":["2009-11-30","1.8953522"]},{"value":["2009-12-31","1.9544457"]},{"value":["2010-01-29","1.8228786"]},{"value":["2010-02-26","1.8572003"]},{"value":["2010-03-31","2.0092656"]},{"value":["2010-04-30","2.0049751"]},{"value":["2010-05-28","1.8209713"]},{"value":["2010-06-30","1.8109603"]},{"value":["2010-07-30","1.9959183"]},{"value":["2010-08-31","1.9449120"]},{"value":["2010-09-30","2.1670507"]},{"value":["2010-10-29","2.2342648"]},{"value":["2010-11-30","2.1708646"]},{"value":["2010-12-31","2.3351977"]},{"value":["2011-01-31","2.2546907"]},{"value":["2011-02-28","2.2508100"]},{"value":["2011-03-31","2.3739962"]},{"value":["2011-04-29","2.4540186"]},{"value":["2011-05-31","2.3817556"]},{"value":["2011-06-30","2.3579919"]},{"value":["2011-07-29","2.3434424"]},{"value":["2011-08-31","2.1305340"]},{"value":["2011-09-30","1.7376977"]},{"value":["2011-10-31","2.0141388"]},{"value":["2011-11-30","1.9797055"]},{"value":["2011-12-30","1.8973245"]},{"value":["2012-01-31","2.1019034"]},{"value":["2012-02-29","2.2161107"]},{"value":["2012-03-30","2.1585102"]},{"value":["2012-04-30","2.1133253"]},{"value":["2012-05-31","1.8878896"]},{"value":["2012-06-29","1.9827316"]},{"value":["2012-07-31","1.9867037"]},{"value":["2012-08-31","1.9916695"]},{"value":["2012-09-28","2.0974332"]},{"value":["2012-10-31","2.0858699"]},{"value":["2012-11-30","2.1125147"]},{"value":["2012-12-31","2.2618079"]},{"value":["2013-01-31","2.2633321"]},{"value":["2013-02-28","2.2099999"]},{"value":["2013-03-28","2.1820112"]},{"value":["2013-04-30","2.2257522"]},{"value":["2013-05-31","2.1128375"]},{"value":["2013-06-28","1.9996983"]},{"value":["2013-07-31","2.0136166"]},{"value":["2013-08-30","1.9445372"]},{"value":["2013-09-30","2.0860027"]},{"value":["2013-10-31","2.1764505"]},{"value":["2013-11-29","2.1561773"]},{"value":["2013-12-31","2.1500423"]},{"value":["2014-01-31","1.9686942"]},{"value":["2014-02-28","2.0324530"]},{"value":["2014-03-31","2.1265015"]},{"value":["2014-04-30","2.1453664"]},{"value":["2014-05-30","2.2119180"]},{"value":["2014-06-30","2.2821038"]},{"value":["2014-07-31","2.3133216"]},{"value":["2014-08-29","2.4022150"]},{"value":["2014-09-30","2.2300772"]},{"value":["2014-10-31","2.2798009"]},{"value":["2014-11-28","2.2546724"]},{"value":["2014-12-31","2.1491464"]},{"value":["2015-01-30","2.1448494"]},{"value":["2015-02-27","2.2447353"]},{"value":["2015-03-31","2.1985995"]},{"value":["2015-04-30","2.3615985"]},{"value":["2015-05-29","2.2776787"]},{"value":["2015-06-30","2.2195265"]},{"value":["2015-07-31","2.0805343"]},{"value":["2015-08-31","1.8753044"]},{"value":["2015-09-30","1.8212644"]},{"value":["2015-10-30","1.9175842"]},{"value":["2015-11-30","1.8735516"]},{"value":["2015-12-31","1.8091620"]},{"value":["2016-01-29","1.7051811"]},{"value":["2016-02-29","1.6996501"]},{"value":["2016-03-31","1.9158580"]},{"value":["2016-04-29","1.9352494"]},{"value":["2016-05-31","1.8726432"]},{"value":["2016-06-30","1.9648451"]},{"value":["2016-07-29","2.0657926"]},{"value":["2016-08-31","2.0819665"]},{"value":["2016-09-30","2.1240374"]},{"value":["2016-10-31","2.1308107"]},{"value":["2016-11-30","2.0444498"]},{"value":["2016-12-30","2.0293570"]},{"value":["2017-01-31","2.1461952"]},{"value":["2017-02-28","2.1944049"]},{"value":["2017-03-31","2.2568343"]},{"value":["2017-04-28","2.2920612"]},{"value":["2017-05-31","2.3147891"]},{"value":["2017-06-30","2.3344752"]},{"value":["2017-07-31","2.4591173"]},{"value":["2017-08-31","2.5328738"]},{"value":["2017-09-29","2.5203323"]},{"value":["2017-10-31","2.5816491"]},{"value":["2017-11-30","2.5729719"]},{"value":["2017-12-29","2.6683100"]},{"value":["2018-01-31","2.8967233"]},{"value":["2018-02-28","2.7415412"]},{"value":["2018-03-29","2.7358070"]},{"value":["2018-04-30","2.6601032"]},{"value":["2018-05-31","2.5977936"]},{"value":["2018-06-29","2.4733728"]},{"value":["2018-07-31","2.5718386"]},{"value":["2018-08-31","2.4639954"]},{"value":["2018-09-28","2.4308364"]},{"value":["2018-10-31","2.2446696"]},{"value":["2018-11-30","2.3531679"]},{"value":["2018-12-31","2.2744542"]},{"value":["2019-01-31","2.4941389"]},{"value":["2019-02-28","2.4845876"]},{"value":["2019-03-29","2.5421018"]},{"value":["2019-04-30","2.5965326"]},{"value":["2019-05-31","2.4308473"]},{"value":["2019-06-28","2.5614288"]},{"value":["2019-07-31","2.5150542"]},{"value":["2019-08-30","2.4331467"]},{"value":["2019-09-30","2.4553104"]},{"value":["2019-10-31","2.5522788"]},{"value":["2019-11-29","2.5650861"]},{"value":["2019-12-31","2.7464086"]},{"value":["2020-01-31","2.5944819"]},{"value":["2020-02-28","2.5024619"]},{"value":["2020-03-31","2.0758728"]},{"value":["2020-04-30","2.2379823"]},{"value":["2020-05-29","2.3116124"]},{"value":["2020-06-30","2.4613400"]},{"value":["2020-07-31","2.6726132"]},{"value":["2020-08-31","2.7459378"]},{"value":["2020-09-30","2.7131022"]},{"value":["2020-10-30","2.7488665"]},{"value":["2020-11-30","2.9841611"]},{"value":["2020-12-31","3.1631924"]},{"value":["2021-01-29","3.2622984"]},{"value":["2021-02-26","3.3134298"]},{"value":["2021-03-31","3.2898906"]},{"value":["2021-04-30","3.3486729"]},{"value":["2021-05-28","3.4055583"]},{"value":["2021-06-30","3.4507435"]},{"value":["2021-07-30","3.2474221"]},{"value":["2021-08-31","3.3185846"]},{"value":["2021-09-30","3.2070136"]},{"value":["2021-10-29","3.2486965"]},{"value":["2021-11-30","3.1544293"]},{"value":["2021-12-31","3.2030149"]},{"value":["2022-01-31","3.2166143"]},{"value":["2022-02-28","3.0968091"]},{"value":["2022-03-31","2.9959988"]},{"value":["2022-04-29","2.8212916"]},{"value":["2022-05-27","2.7953130"]}],"yAxisIndex":0,"xAxisIndex":0,"name":"VWO","type":"line","coordinateSystem":"cartesian2d","symbol":"emptyCircle","symbolSize":1}],"tooltip":{"trigger":"axis","backgroundColor":"white"},"grid":[{"right":"15%","top":"20%"}],"title":[{"left":"center","top":"5%","text":"Growth of select ETFs"}],"dataZoom":[{"type":"slider","start":0,"end":100}],"toolbox":{"feature":{"dataZoom":{"selector":{"start":"20","end":"80"}},"reset":[],"dataView":[],"saveAsImage":[]}}},"dispose":true},"evals":[],"jsHooks":[]}</script>
<div id="weights" class="section level2">
<h2>Weights</h2>
<p>One decision we have to make is how much of each asset to add to our portfolio.
There are many ways to do this and one popular way is to use mean-variance
optimization to determine which portfolio (out of a set of portfolios with
with varying asset weights) achieved the highest return for each unit of risk.
Here, risk is measured as the standard deviation of such returns.</p>
</div>
<div id="set-benchmark" class="section level2">
<h2>Set Benchmark</h2>
<p>We will assume that investing equally in all assets is a reasonable benchmark
for this analysis.</p>
<pre class="r"><code>equal_wts &lt;- rep(1/length(tickers), length(tickers))

# bm_returns &lt;- 
#       returns %&gt;%
#       tq_portfolio(assets_col = ticker,
#                    returns_col = return,
#                    weights = equal_wts,
#                    col_rename = &quot;return&quot;
#                    ) %&gt;% 
#       arrange(date)

wts_list &lt;- list()
length(wts_list) &lt;- length(tickers)
wts_grid &lt;- map(wts_list, ~seq(0, 1, 0.1))

weights_grid &lt;- tibble(expand.grid(
      wts_grid
      )) %&gt;% 
      filter(rowSums(.) == 1)

n_portfolios &lt;- nrow(weights_grid)

weights &lt;- weights_grid %&gt;% transpose() %&gt;% unlist(use.names = FALSE)

ticker_returns_grid &lt;-
  returns %&gt;% 
  tq_repeat_df(n = n_portfolios)

weights_table &lt;-
  tibble(tickers) %&gt;%
  tq_repeat_df(n = n_portfolios) %&gt;%
  bind_cols(tibble(weights)) %&gt;% 
  full_join(tibble(portfolio = 0, tickers = tickers, weights = equal_wts))

weights_table %&gt;%
  ggplot(aes(x = portfolio, y = weights, fill = tickers)) +
  geom_col(alpha = 0.8) +
  scale_y_continuous(labels = scales::percent) +
  theme_minimal() +
  labs(title = &quot;Weights for portfolio assets&quot;,
       subtitle = &quot;What are the possible ways to combine assets in a portfolio&quot;,
       x = &quot;portfolio #&quot;, y = &quot;&quot;,
       fill = &quot;Ticker&quot;) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 13),
    plot.title.position = &quot;plot&quot;
  )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/weights-1.png" width="672" /></p>
<p>As you can see, there are hundreds of possible portfolio constructions. So,
which one yielded the best performance over the â€¦</p>
</div>
<div id="performance-stats" class="section level2">
<h2>Performance stats</h2>
<pre class="r"><code># port_returns_grid &lt;-
#       ticker_returns_grid %&gt;%
#       tq_portfolio(assets_col = ticker,
#                    returns_col = return,
#                    weights = weights_table,
#                    col_rename = &quot;port_return&quot;)
# 
# write_feather(port_returns_grid, &quot;static/data/port_returns_grid&quot;)
# write_csv(port_returns_grid, &quot;data/port_returns_grid.csv&quot;, col_names = TRUE)
port_returns_grid &lt;- read_feather(here(&quot;static&quot;, &quot;data&quot;, &quot;port_returns_grid&quot;)) %&gt;% ungroup()
# port_returns_grid &lt;- data.table::fread(&quot;data/port_returns_grid.csv&quot;) %&gt;% as_tibble()

bm_returns_grid &lt;-
      returns %&gt;%
      tq_portfolio(assets = ticker,
                   returns_col = return,
                   weights = equal_wts,
                   col_rename = &quot;port_return&quot;) %&gt;% 
      add_column(portfolio = 0) %&gt;% 
      arrange(date)

combined_returns_grid &lt;-
      port_returns_grid %&gt;%
      full_join(bm_returns_grid) %&gt;% 
      arrange(portfolio)</code></pre>
<pre><code>                                                                                                                                                                                                                                                                                                                                vv    v    v    v      v      vv                                                                                                                                                                                                         </code></pre>
<pre class="r"><code># capm_stats_grid &lt;-
#       combined_returns_grid %&gt;%
#       filter(portfolio != 0) %&gt;%
#       group_by(portfolio) %&gt;% 
#       full_join(bm_returns_grid %&gt;% select(date, bm_return = port_return)) %&gt;%
#       group_by(portfolio) %&gt;%
#       tq_performance(
#             Ra = port_return,
#             Rb = bm_return,
#             performance_fun = table.CAPM)

# write_feather(capm_stats_grid, &quot;static/data/capm_stats&quot;)
capm_stats &lt;- read_feather(here(&quot;static&quot;, &quot;data&quot;, &quot;capm_stats&quot;)) %&gt;% ungroup()

# Takes ~ 6 mins
# port_performance &lt;-
#       combined_returns_grid %&gt;%
#       left_join(bm_returns_grid %&gt;% select(date, bm_return = port_return), by = &quot;date&quot;) %&gt;%
#       group_by(portfolio) %&gt;%
#       tq_performance(Ra = port_return,
#                      performance_fun = table.Stats)

# write_feather(port_performance, &quot;static/data/port_performance&quot;)
port_performance &lt;- read_feather(here(&quot;static&quot;, &quot;data&quot;, &quot;port_performance&quot;))

combined_performance &lt;- 
  port_performance %&gt;% 
  ungroup() %&gt;% 
  janitor::clean_names() %&gt;% 
  mutate(annual_return = geometric_mean * 12) %&gt;% 
  mutate(annual_stdev = stdev*sqrt(12)) %&gt;% 
  mutate(sharpe_ratio = ((annual_return - 0.03) / annual_stdev))</code></pre>
</div>
</div>
<div id="portfolios-with-highest-returns" class="section level1">
<h1>Portfolios with Highest Returns</h1>
<p>What portfolios experienced the highest returns over the period?</p>
<pre class="r"><code>best_return &lt;-
  combined_performance %&gt;%
  arrange(desc(annual_return),
          desc(sharpe_ratio),
          stdev,
          desc(skewness)) %&gt;%
  select(portfolio, sharpe_ratio, geometric_mean, variance, skewness) %&gt;%
  slice(1:10) %&gt;%
  pull(portfolio)

weights_table %&gt;%
  filter(portfolio %in% best_return) %&gt;%
  ggplot(aes(x = tickers, y = weights, fill = tickers)) +
  geom_col() +
  geom_text(aes(label = scales::percent_format()(weights)),
            nudge_y = 0.07,
            color = &quot;darkgray&quot;) +
  scale_y_continuous(labels = scales::percent) +
  facet_wrap(. ~ paste(&quot;Portfolio: &quot;, portfolio)) +
  labs(
    x = &quot;&quot;,
    y = &quot;&quot;,
    title = &quot;Portfolio Weights&quot;,
    subtitle = &quot;Weights for portfolios with best returns&quot;,
    fill = &quot;Title&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    plot.title = element_text(face = &quot;bold&quot;, size = 13),
    legend.background = element_rect(
      fill = &quot;white&quot;,
      size = 4,
      colour = &quot;white&quot;
    ),
    axis.ticks = element_blank(),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    plot.title.position = &quot;plot&quot;
  )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/best_return-1.png" width="672" /></p>
<p>Itâ€™s no surprise that the top 10 portfolios based on total return were comprised
almost entirely of U.S. stocks which significantely outperformed the other asset
classes over the investment period.</p>
<pre class="r"><code>best_sharpe &lt;-
  combined_performance %&gt;%
  arrange(desc(sharpe_ratio),
          desc(geometric_mean),
          stdev,
          desc(skewness)) %&gt;%
  select(portfolio, sharpe_ratio, geometric_mean, variance, skewness) %&gt;%
  slice(1:10) %&gt;%
  pull(portfolio)


weights_table %&gt;%
  filter(portfolio %in% best_sharpe) %&gt;%
  ggplot(aes(x = tickers, y = weights, fill = tickers)) +
  geom_col() +
  geom_text(aes(label = scales::percent_format()(weights)),
            nudge_y = 0.07,
            color = &quot;darkgray&quot;) +
  scale_y_continuous(labels = scales::percent) +
  facet_wrap(. ~ paste(&quot;Portfolio: &quot;, portfolio)) +
  labs(
    x = &quot;&quot;,
    y = &quot;&quot;,
    title = &quot;Best risk-adjusted returns&quot;,
    subtitle = &quot;Weights for portfolios with best sharpe_ratios (best return for each unit of risk)&quot;,
    fill = &quot;Ticker&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    plot.title = element_text(face = &quot;bold&quot;, size = 13),
    legend.background = element_rect(
      fill = &quot;white&quot;,
      size = 4,
      colour = &quot;white&quot;
    ),
    axis.ticks = element_blank(),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    plot.title.position = &quot;plot&quot;
  )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/best_sharpe_ratio-1.png" width="672" /></p>
<pre class="r"><code># tq_performance_fun_options()</code></pre>
<p>It turns out that even when adjusting for â€œrisk,â€ the top performing portfolios
were also comprised almost entirely of U.S. stocks.</p>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>Over the last 10 years and
2 months it would have been generally
better to invest almost all of oneâ€™s cash into the overall U.S. stock market.</p>
</div>
<div id="limitations" class="section level1">
<h1>Limitations</h1>
<p>This analysis spans a relatively small time period. It is not a good idea to
make future investment decisions based on research using such short data spans.
One approach to the data limitation problem is to run the analysis on indexes
(not ETFs) with longer data histories and then utilize ETFs as proxies to
represent the uninvestible indexes. This may be appropriate if the ETFs closely
track the indexes they are purported to track.</p>
</div>

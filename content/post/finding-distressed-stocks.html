---
title: Finding Distressed Stocks
author: Aaron Hardy
date: '2020-01-10'
slug: finding-distressed-stocks
categories:
  - Stocks
tags: 
  - Stocks
description: ''
featured: ''
featuredalt: ''
featuredpath: ''
linktitle: ''
editor_options: 
  chunk_output_type: console
---



<div id="finding-highly-risky-stocks" class="section level1">
<h1>Finding Highly Risky Stocks</h1>
<div id="the-formula" class="section level2">
<h2>The Formula</h2>
<div id="logit-probability-of-financial-distress-lpfd" class="section level3">
<h3>Logit Probability of Financial Distress (LPFD)</h3>
<p>A logistic regression model is used to estimate whether a firm is in financial distress or not. <span class="math display">\[
LPFD = -20.26 \times NIMTAAVG + 1.42 \times TLMTA \\
- 7.13 \times EXRETAVG + 1.41 \times SIGMA \\
- 0.045 \times RSIZE - 2.13 \times CASHMTA + 
\\0.075 \times MB - 0.058 \times PRICE - 9.16
\]</span></p>
<p>The “LPFD” is then transformed into a probability of financial distress (PFD).</p>
</div>
<div id="probability-of-financial-distress-pfd" class="section level3">
<h3>Probability of Financial Distress (PFD)</h3>
<p><span class="math display">\[ 
PFD=\frac{1}{1+e^{-LPFD}} 
\]</span></p>
</div>
<div id="weighting-the-value" class="section level3">
<h3>Weighting the value</h3>
<p><span class="math display">\[
XAVG = .5333 \times t + .2666 \times (t - 1) + .1333 \times (t - 2) + .0666 \times (t - 3)
\]</span></p>
</div>
<div id="the-data" class="section level3">
<h3>The Data</h3>
</div>
</div>
</div>
<div id="connect-to-a-database-and-load-some-data" class="section level1">
<h1>connect to a database and load some data</h1>
<pre class="r"><code># Clear Workspace
rm(list=ls(all=TRUE))


# Load libraries ----------------------------------------------------------
library(dplyr)
library(RMySQL)
library(lubridate)
library(tidyr)

# Establish a MySQL connection
con &lt;- dbConnect(MySQL(), dbname = &quot;financial_data&quot;, user = &#39;root&#39; , password=&#39;paperback12&#39;)
# dbListTables(con)
data &lt;- tbl(con, &quot;fundamentals_all&quot;) %&gt;% as_tibble() %&gt;% 
      select(date, id, market_cap, enterprise_value, total_liabilities, cash) %&gt;%
      mutate(date = ymd(date)) %&gt;% rename(symbol = &quot;id&quot;)

dbDisconnect(con) # Disconnect from SQL database</code></pre>
<pre><code>## [1] TRUE</code></pre>
</div>
